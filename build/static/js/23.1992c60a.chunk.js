(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[23],{1786:function(e,t,n){"use strict";n.r(t);var c,a,r,i,s,o,l,b,j,d,u,x,p,O,m,h,f,g,k,y,v,w,S=n(45),C=n(9),A=n(11),D=n(8),T=n(0),H=n.n(T),B=n(74),P=n(4),z=n(30),I=n.n(z),E=n(96),F=n(2),L=n(1580),M=n.n(L),R=n(1581),V=n.n(R),U=n(25),Q=n(488),N=n(3),Y=n.n(N),X=n(12),q=n(17),K=n(163),G=n(68),W=n(439),$=n(460),J=n(634),_=function(){var e=Object(q.c)((function(e){return e.pools.cakeVault})),t=e.totalShares,n=e.pricePerFullShare,c=e.totalCakeInVault,a=e.estimatedCakeBountyReward,r=e.totalPendingCakeHarvest,i=e.fees,s=i.performanceFee,o=i.callFee,l=i.withdrawalFee,b=i.withdrawalFeePeriod,j=e.userData,d=j.isLoading,u=j.userShares,x=j.cakeAtLastUserAction,p=j.lastDepositedTime,O=j.lastUserActionTime,m=Object(T.useMemo)((function(){return new I.a(a)}),[a]),h=Object(T.useMemo)((function(){return new I.a(r)}),[r]);return{totalShares:Object(T.useMemo)((function(){return new I.a(t)}),[t]),pricePerFullShare:Object(T.useMemo)((function(){return new I.a(n)}),[n]),totalCakeInVault:Object(T.useMemo)((function(){return new I.a(c)}),[c]),estimatedCakeBountyReward:m,totalPendingCakeHarvest:h,fees:{performanceFee:s,callFee:o,withdrawalFee:l,withdrawalFeePeriod:b},userData:{isLoading:d,userShares:Object(T.useMemo)((function(){return new I.a(u)}),[u]),cakeAtLastUserAction:Object(T.useMemo)((function(){return new I.a(x)}),[x]),lastDepositedTime:p,lastUserActionTime:O}}},Z=n(458),ee=n(1500),te=n(1499),ne=n(1444),ce=n(1445),ae=n(1501),re=n.p+"static/media/PoolIcon2.322bab0b.png",ie=n(147),se=n(48),oe=n(1406),le=n(1404),be=n(1448),je=n(459),de=n(1),ue=function(e){var t=e.pool,n=e.performanceFee,c=void 0===n?0:n,a=Object(U.b)().t,r=t.stakingToken,i=t.earningToken,s=t.isFinished,o=t.apr,l=t.earningTokenPrice,b=t.isAutoVault,j=a(b?"APY includes compounding, APR doesn\u2019t. This pool\u2019s CAKE is compounded automatically, so we show APY.":"This pool\u2019s rewards aren\u2019t compounded automatically, so we show APR"),d=Object(F.zb)(j,{placement:"bottom-start"}),u=d.targetRef,x=d.tooltip,p=d.tooltipVisible,O=Object(je.c)(t,c),m=O.apr,h=O.roundingDecimals,f=O.compoundFrequency,g=Object(F.xb)(Object(de.jsx)(be.a,{tokenPrice:l,apr:o,linkLabel:a("Get %symbol%",{symbol:r.symbol}),linkHref:"/swap",earningTokenSymbol:i.symbol,roundingDecimals:h,compoundFrequency:f,performanceFee:c})),k=Object(A.a)(g,1)[0];return Object(de.jsxs)(F.H,{alignItems:"center",justifyContent:"space-between",style:{borderBottom:"1px solid #21214A",paddingBottom:"10px"},children:[p&&x,Object(de.jsx)(F.ob,{fontSize:"14px",color:"#A7A7CC",ref:u,children:"".concat(a(b?"APY":"APR"),":")}),s||!o?Object(de.jsx)(F.gb,{width:"82px",height:"32px"}):Object(de.jsxs)(F.H,{alignItems:"center",children:[Object(de.jsx)(le.a,{color:"#F2C94C",fontSize:"14px",isDisabled:s,value:m,decimals:2,unit:"%",bold:!0}),Object(de.jsx)(F.M,{onClick:k,variant:"text",scale:"sm",children:Object(de.jsx)(F.n,{color:"textSubtle",width:"18px"})})]})]})},xe=Object(P.default)(F.o)(c||(c=Object(D.a)(["\n  max-width: 352px;\n  margin: 0 8px 24px;\n  display: flex;\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n  background: ",";\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  box-sizing: border-box;\n  border-radius: 10px;\n\n  "," {\n    margin: 0 12px 46px;\n  }\n  > div {\n    background: transparent;\n  }\n"])),(function(e){return e.theme.isDark?"#1A1A3A":"#20234E"}),(function(e){return e.theme.mediaQueries.sm})),pe=n(1434),Oe=n(113),me=n(136),he=n(474),fe=n(35),ge=n(185),ke=n(37),ye=n(296),ve=Object(P.default)(F.H)(a||(a=Object(D.a)(["\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n"]))),we=Object(P.default)(F.H)(r||(r=Object(D.a)(["\n  flex-direction: column;\n  align-items: center;\n"]))),Se=Object(P.default)(F.H)(i||(i=Object(D.a)(["\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #2E2E55;\n  box-sizing: border-box;\n  border-radius: 5px;\n  padding: 9px 2px;\n  "," {\n    padding: 9px;\n}\n"])),(function(e){return e.theme.mediaQueries.xs})),Ce=function(e){var t,n=e.pool,c=e.account,a=Object(U.b)().t,r=Object(he.a)().currentBlock,i=_(),s=i.totalCakeInVault,o=i.fees.performanceFee,l=n.stakingToken,b=n.earningToken,j=n.totalStaked,d=n.startBlock,u=n.endBlock,x=n.stakingLimit,p=n.contractAddress,O=n.sousId,m=n.isAutoVault,h=b.address?Object(fe.a)(b.address):"",f=Object(fe.a)(p),g=Object(fe.g)(),k=!!(null===(t=window.ethereum)||void 0===t?void 0:t.isMetaMask),y=0===O,v=Object(je.e)(n,r),w=v.shouldShowBlockCountdown,S=v.blocksUntilStart,C=v.blocksRemaining,A=v.hasPoolStarted,D=v.blocksToDisplay,T=Object(F.zb)(a("Subtracted automatically from each yield harvest and burned."),{placement:"bottom-start"}),H=T.targetRef,B=T.tooltip,P=T.tooltipVisible,z=Object(F.zb)(a("Total amount of %symbol% staked in this pool",{symbol:l.symbol}),{placement:"bottom"});z.targetRef,z.tooltip,z.tooltipVisible;return Object(de.jsxs)(ve,{flexDirection:"column",children:[Object(de.jsxs)(F.H,{mb:"2px",justifyContent:"space-between",alignItems:"center",style:{borderBottom:"1px solid #21214A",paddingBottom:"10px"},children:[Object(de.jsxs)(F.ib,{fontSize:"10px",color:"#A7A7CC",children:[a("Total staked"),":"]}),Object(de.jsxs)(F.H,{children:[Object(de.jsx)("img",{src:ye.a,style:{height:"40px",marginLeft:"4px"},alt:"token"}),Object(de.jsx)(F.H,{alignItems:"flex-start",flexDirection:"column",children:j&&j.gte(0)?Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(F.ib,{fontSize:"14px",color:"white",children:a(l.symbol)}),Object(de.jsx)(le.a,{small:!0,value:function(){if(m)return Object(Oe.c)(s,l.decimals);if(y){var e=new I.a(j).minus(s);return Object(Oe.c)(e,l.decimals)}return Object(Oe.c)(j,l.decimals)}(),decimals:0})]}):Object(de.jsx)(F.gb,{width:"90px",height:"21px"})})]})]}),x&&x.gt(0)&&Object(de.jsxs)(F.H,{mb:"2px",justifyContent:"space-between",children:[Object(de.jsxs)(F.ib,{small:!0,children:[a("Max. stake per user"),":"]}),Object(de.jsx)(F.ib,{small:!0,children:"".concat(Object(Oe.e)(x,l.decimals,0)," ").concat(l.symbol)})]}),w&&Object(de.jsxs)(F.H,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(de.jsxs)(F.ib,{small:!0,children:[a(A?"Ends in":"Starts in"),":"]}),C||S?Object(de.jsx)(F.H,{alignItems:"center",children:Object(de.jsxs)(F.P,{external:!0,href:Object(ke.f)(A?u:d,"countdown"),children:[Object(de.jsx)(le.a,{small:!0,value:D,decimals:0,color:"primary"}),Object(de.jsx)(F.ib,{small:!0,ml:"4px",color:"primary",textTransform:"lowercase",children:a("Blocks")}),Object(de.jsx)(F.jb,{ml:"4px",color:"primary"})]})}):Object(de.jsx)(F.gb,{width:"54px",height:"21px"})]}),m&&Object(de.jsxs)(F.H,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[P&&B,Object(de.jsx)(F.ob,{ref:H,small:!0,children:a("Performance Fee")}),Object(de.jsx)(F.H,{alignItems:"center",children:Object(de.jsxs)(F.ib,{ml:"4px",small:!0,children:[o/100,"%"]})})]}),Object(de.jsxs)(we,{mt:"17px",children:[Object(de.jsx)(Se,{mb:"6px",justifyContent:"flex-end",children:Object(de.jsx)(F.Q,{href:"https://bscscan.com/token/".concat(Object(fe.a)(b.address)),color:"#A7A7CC",fontSize:"10px",children:a("See Token Info")})}),Object(de.jsxs)(F.H,{width:"100%",children:[Object(de.jsx)(Se,{mr:"6px",mb:"2px",justifyContent:"flex-end",children:Object(de.jsx)(F.Q,{href:b.projectLink,color:"#A7A7CC",fontSize:"10px",children:a("View Project Site")})}),f&&Object(de.jsx)(Se,{mb:"2px",justifyContent:"flex-end",children:Object(de.jsx)(F.Q,{href:"".concat(me.a,"/address/").concat(m?g:f),color:"#A7A7CC",fontSize:"10px",children:a("View Contract")})})]}),c&&k&&h&&Object(de.jsx)(F.H,{justifyContent:"flex-end",children:Object(de.jsxs)(F.k,{variant:"text",p:"0",height:"auto",onClick:function(){return Object(ge.b)(h,b.symbol,b.decimals)},children:[Object(de.jsx)(F.ib,{color:"primary",fontSize:"14px",children:a("Add to Metamask")}),Object(de.jsx)(F.T,{ml:"4px"})]})})]})]})},Ae=H.a.memo(Ce),De=Object(P.default)(F.H)(s||(s=Object(D.a)(["\n  align-items: center;\n  justify-content: space-between;\n  button {\n    outline: none;\n    color: #A7A7CC!important;\n    flex-flow: column;\n    font-size: 12px;\n    padding: 0;\n    svg {\n      margin: 0;\n    }\n  }\n"]))),Te=Object(P.default)(F.q)(o||(o=Object(D.a)(["\n  background-color: transparent;\n  border: 0px;\n"]))),He=function(e){var t=e.pool,n=e.account,c=t.isAutoVault,a=Object(U.b)().t,r=Object(T.useState)(!1),i=Object(A.a)(r,2),s=i[0],o=i[1],l=a("You must harvest and compound your earnings from this pool manually."),b=a("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),j=Object(F.zb)(c?b:l,{placement:"bottom"}),d=j.targetRef,u=j.tooltip,x=j.tooltipVisible;return Object(de.jsxs)(Te,{children:[Object(de.jsxs)(De,{children:[Object(de.jsxs)(F.H,{alignItems:"center",children:[c?Object(de.jsx)(pe.b,{}):Object(de.jsx)(pe.e,{}),x&&u,Object(de.jsx)(F.H,{ref:d,children:Object(de.jsx)(F.K,{ml:"4px",width:"14px",height:"14px",color:"#F9B043"})})]}),Object(de.jsx)(F.F,{expanded:s,onClick:function(){o(!s)},children:a(s?"Hide":"Details")})]}),s&&Object(de.jsx)(Ae,{pool:t,account:n})]})},Be=n(1435),Pe=n(40),ze=function(e){var t="/images/tokens/".concat(Object(fe.a)(Pe.k.sphynx.address),".svg");return Object(de.jsx)(F.nb,Object(C.a)({primarySrc:t,secondarySrc:"/images/tokens/autorenew.svg"},e))},Ie=Object(P.default)(F.r)(l||(l=Object(D.a)(["\n  background: transparent;\n"]))),Ee=function(e){var t=e.earningToken,n=e.stakingToken,c=e.isFinished,a=void 0!==c&&c,r=e.isAutoVault,i=void 0!==r&&r,s=e.isStaking,o=void 0!==s&&s,l=Object(U.b)().t,b="SPHYNX"===t.symbol&&"SPHYNX"===n.symbol,j=o?"bubblegum":"cardHeader";return Object(de.jsx)(Ie,{isFinished:a,background:j,children:Object(de.jsx)(F.H,{alignItems:"center",justifyContent:"center",children:Object(de.jsxs)(F.H,{flexDirection:"column",alignItems:"center",children:[i?Object(de.jsx)(ze,{width:100,height:100}):Object(de.jsx)(Be.a,{primaryToken:t,secondaryToken:n,width:100,height:100}),Object(de.jsx)(F.J,{color:a?"textDisabled":"body",scale:"lg",children:"".concat(l(i?"Auto":b?"Manual":"Earn")," ").concat(t.symbol)}),Object(de.jsx)(F.ib,{color:"#A7A7CC",fontSize:"15px",children:i?l("Automatic restaking"):b?l("Earn SPHYNX, stake SPHYNX"):l("Stake %symbol%",{symbol:n.symbol})})]})})})},Fe=n(70),Le=n(62),Me=n(66),Re=(n(196),n(297),n(320),n(215)),Ve=n(659),Ue=function(){var e=Object(T.useState)(Date.now()),t=Object(A.a)(e,2),n=t[0],c=t[1];return{lastUpdated:n,previousLastUpdated:Object(Ve.a)(n),setLastUpdated:Object(T.useCallback)((function(){c(Date.now())}),[c])}},Qe=function(e,t,n){var c=Object(T.useState)(!1),a=Object(A.a)(c,2),r=a[0],i=a[1],s=Object(Re.a)(),o=s.toastSuccess,l=s.toastError,b=Object(U.b)().t,j=Object(K.b)(),d=Object(E.c)().account,u=Object(Le.k)(t);return{handleApprove:Object(T.useCallback)(Object(X.a)(Y.a.mark((function c(){var a,r;return Y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,i(!0),c.next=4,e.approve(u.address,Me.a.constants.MaxUint256);case 4:return a=c.sent,c.next=7,a.wait();case 7:r=c.sent,j(Object($.h)(t,d)),r.status?(o(b("Contract Enabled"),b("You can now stake in the %symbol% pool!",{symbol:n})),i(!1)):(l(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!")),i(!1)),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(0),console.error(c.t0),l(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 16:case"end":return c.stop()}}),c,null,[[0,12]])}))),[d,j,e,u,t,n,b,l,o]),requestedApproval:r}},Ne=function(e){var t=Object(T.useState)(!1),n=Object(A.a)(t,2),c=n[0],a=n[1],r=Object(U.b)().t,i=Object(Re.a)(),s=i.toastSuccess,o=i.toastError,l=Object(Le.c)(),b=Object(Le.b)(),j=function(){var t=Object(X.a)(Y.a.mark((function t(){var n;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.approve(l.address,Me.a.constants.MaxUint256);case 2:return n=t.sent,a(!0),t.next=6,n.wait();case 6:t.sent.status?(s(r("Contract Enabled"),r("You can now stake in the %symbol% vault!",{symbol:"SPHYNX"})),e(),a(!1)):(o(r("Error"),r("Please try again. Confirm the transaction and make sure you are paying enough gas!")),a(!1));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{handleApprove:j,requestedApproval:c}},Ye=function(){var e=Object(T.useState)(!1),t=Object(A.a)(e,2),n=t[0],c=t[1],a=Object(E.c)().account,r=Object(Le.b)(),i=Object(Le.c)(),s=Ue(),o=s.lastUpdated,l=s.setLastUpdated;return Object(T.useEffect)((function(){var e=function(){var e=Object(X.a)(Y.a.mark((function e(){var t,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.allowance(a,i.address);case 3:t=e.sent,n=new I.a(t.toString()),c(n.gt(0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[a,r,i,o]),{isVaultApproved:n,setLastUpdated:l}},Xe=function(e){var t=e.pool,n=e.isLoading,c=void 0!==n&&n,a=t.sousId,r=t.stakingToken,i=t.earningToken,s=Object(U.b)().t,o=Object(Le.f)(r.address?Object(fe.a)(r.address):""),l=Qe(o,a,i.symbol),b=l.handleApprove,j=l.requestedApproval;return Object(de.jsx)(de.Fragment,{children:c?Object(de.jsx)(F.gb,{width:"100%",height:"52px"}):Object(de.jsx)(F.k,{isLoading:j,endIcon:j?Object(de.jsx)(F.f,{spin:!0,color:"currentColor"}):null,disabled:j,onClick:b,style:oe.a,children:s("Enable")})})},qe=n(292),Ke=Object(P.default)(F.P)(b||(b=Object(D.a)(["\n  width: 100%;\n"]))),Ge=function(e){var t=e.tokenSymbol,n=e.onDismiss,c=Object(U.b)().t,a=Object(qe.a)().theme;return Object(de.jsxs)(F.V,{title:c("%symbol% required",{symbol:t}),onDismiss:n,headerBackground:a.colors.gradients.cardHeader,children:[Object(de.jsx)(F.ib,{color:"failure",bold:!0,children:c("Insufficient %symbol% balance",{symbol:t})}),Object(de.jsx)(F.ib,{mt:"24px",children:c("You\u2019ll need %symbol% to stake in this pool!",{symbol:t})}),Object(de.jsx)(F.ib,{children:c("Buy some %symbol%, or make sure your %symbol% isn\u2019t in another pool or LP.",{symbol:t})}),Object(de.jsxs)(F.k,{mt:"24px",as:"a",external:!0,href:"/swap",children:[c("Buy")," ",t]}),Object(de.jsx)(Ke,{href:"https://yieldwatch.net",external:!0,children:Object(de.jsxs)(F.k,{variant:"secondary",mt:"8px",width:"100%",children:[c("Locate Assets"),Object(de.jsx)(F.eb,{color:"primary",ml:"4px"})]})}),Object(de.jsx)(F.k,{variant:"text",onClick:n,children:c("Close Window")})]})},We=n(476),$e=n.n(We),Je=Object(P.default)(F.k)(j||(j=Object(D.a)(["\n  flex-grow: 1;\n"]))),_e=function(e){var t=e.children,n=e.onClick;return Object(de.jsx)(Je,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:n,children:t})},Ze=n(1426),et=(me.g,function(){var e=Object(X.a)(Y.a.mark((function e(t,n){var c,a,r,i=arguments;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i.length>2&&void 0!==i[2]?i[2]:18,e.next=3,t.deposit(new I.a(n).times(se.b.pow(c)).toString());case 3:return a=e.sent,e.next=6,a.wait();case 6:return r=e.sent,e.abrupt("return",r.status);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),tt=function(){var e=Object(X.a)(Y.a.mark((function e(t,n){var c,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deposit(new I.a(n).times(me.h).toString());case 2:return c=e.sent,e.next=5,c.wait();case 5:return a=e.sent,e.abrupt("return",a.status);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(K.b)(),c=Object(E.c)(),a=c.account,r=Object(Le.g)(),i=Object(Le.k)(e),s=Object(T.useCallback)(function(){var c=Object(X.a)(Y.a.mark((function c(s,o){return Y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(Ze.b)(r,0,s);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,tt(i,s);case 8:c.next=12;break;case 10:return c.next=12,et(i,s,o);case 12:n(Object($.k)(e,a)),n(Object($.i)(e,a));case 14:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}(),[a,n,t,r,i,e]);return{onStake:s}},ct=function(){var e=Object(X.a)(Y.a.mark((function e(t,n,c){var a,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.withdraw(new I.a(n).times(se.b.pow(c)).toString());case 2:return a=e.sent,e.next=5,a.wait();case 5:return r=e.sent,e.abrupt("return",r.status);case 7:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),at=function(){var e=Object(X.a)(Y.a.mark((function e(t){var n,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.emergencyWithdraw();case 2:return n=e.sent,e.next=5,n.wait();case 5:return c=e.sent,e.abrupt("return",c.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(K.b)(),c=Object(E.c)(),a=c.account,r=Object(Le.g)(),i=Object(Le.k)(e),s=Object(T.useCallback)(function(){var c=Object(X.a)(Y.a.mark((function c(s,o){return Y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(Ze.c)(r,0,s);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,at(i);case 8:c.next=12;break;case 10:return c.next=12,ct(i,s,o);case 12:n(Object($.k)(e,a)),n(Object($.i)(e,a)),n(Object($.j)(e,a));case 15:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}(),[a,n,t,r,i,e]);return{onUnstake:s}},it=Object(P.default)(F.V)(d||(d=Object(D.a)(["\n  border-radius: 20px;\n  background: #1A1A3A;\n"]))),st=Object(P.default)(F.N)(u||(u=Object(D.a)(["\n  width: 50px;\n"]))),ot=Object(P.default)(F.P)(x||(x=Object(D.a)(["\n  width: 100%;\n  justify-content: center;\n"]))),lt=function(e){var t=e.isBnbPool,n=e.pool,c=e.stakingTokenBalance,a=e.stakingTokenPrice,r=e.isRemovingStake,i=void 0!==r&&r,s=e.onDismiss,o=n.sousId,l=n.stakingToken,b=n.userData,j=n.stakingLimit,d=n.earningToken,u=Object(U.b)().t,x=(Object(qe.a)().theme,nt(o,t).onStake),p=rt(o,n.enableEmergencyWithdraw).onUnstake,O=Object(Re.a)(),m=O.toastSuccess,h=O.toastError,f=Object(T.useState)(!1),g=Object(A.a)(f,2),k=g[0],y=g[1],v=Object(T.useState)(""),w=Object(A.a)(v,2),S=w[0],C=w[1],D=Object(T.useState)(!1),H=Object(A.a)(D,2),B=H[0],P=H[1],z=Object(T.useState)(0),E=Object(A.a)(z,2),L=E[0],M=E[1],R=function(){return i?b.stakedBalance:j.gt(0)&&c.gt(j)?j:c},V=S&&Object(Oe.a)(new I.a(S).times(a).toNumber());Object(T.useEffect)((function(){if(j.gt(0)&&!i){var e=Object(Oe.d)(new I.a(S),l.decimals);P(e.plus(b.stakedBalance).gt(j))}}),[S,j,b,l,i,P]);var Q=function(e){if(e>0){var t=R().dividedBy(100).multipliedBy(e),n=Object(Oe.e)(t,l.decimals,l.decimals);C(n)}else C("");M(e)},N=function(){var e=Object(X.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),!i){e.next=16;break}return e.prev=2,e.next=5,p(S,l.decimals);case 5:m("".concat(u("Unstaked"),"!"),u("Your %symbol% earnings have also been harvested to your wallet!",{symbol:d.symbol})),y(!1),s(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),h(u("Error"),u("Please try again. Confirm the transaction and make sure you are paying enough gas!")),y(!1);case 14:e.next=28;break;case 16:return e.prev=16,e.next=19,x(S,l.decimals);case 19:m("".concat(u("Staked"),"!"),u("Your %symbol% funds have been staked in the pool!",{symbol:l.symbol})),y(!1),s(),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(16),h(u("Error"),u("Please try again. Confirm the transaction and make sure you are paying enough gas!")),y(!1);case 28:case"end":return e.stop()}}),e,null,[[2,10],[16,24]])})));return function(){return e.apply(this,arguments)}}();return Object(de.jsxs)(it,{title:u(i?"Unstake":"Stake in Pool"),onDismiss:s,headerBackground:"#0E0E26",children:[j.gt(0)&&!i&&Object(de.jsx)(F.ib,{color:"secondary",bold:!0,mb:"24px",style:{textAlign:"center"},fontSize:"16px",children:u("Max stake for this pool: %amount% %token%",{amount:Object(Oe.e)(j,l.decimals,0),token:l.symbol})}),Object(de.jsxs)(F.H,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(de.jsxs)(F.ib,{bold:!0,children:[u(i?"Unstake":"Stake"),":"]}),Object(de.jsxs)(F.H,{alignItems:"center",children:[Object(de.jsx)(st,{src:"/images/tokens/".concat(Object(fe.a)(l.address),".svg"),width:50,height:50,alt:l.symbol}),Object(de.jsx)(F.ib,{ml:"4px",bold:!0,children:l.symbol})]})]}),Object(de.jsx)(F.g,{value:S,onUserInput:function(e){if(e){var t=Object(Oe.d)(new I.a(e),l.decimals),n=Math.floor(t.dividedBy(R()).multipliedBy(100).toNumber());M(Math.min(n,100))}else M(0);C(e)},currencyValue:0!==a&&!Number.isNaN(a)&&"~".concat(V||0," USD"),isWarning:B,decimals:l.decimals}),B&&Object(de.jsx)(F.ib,{color:"failure",fontSize:"12px",style:{textAlign:"right"},mt:"4px",children:u("Maximum total stake: %amount% %token%",{amount:Object(Oe.e)(new I.a(j),l.decimals,0),token:l.symbol})}),Object(de.jsx)(F.ib,{ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:u("Balance: %balance%",{balance:Object(Oe.e)(R(),l.decimals)})}),Object(de.jsx)($e.a,{min:0,max:99,value:L,onChange:function(e){return Q(Math.ceil(e))},name:"stake",valueLabel:"".concat(L,"%"),step:1}),Object(de.jsxs)(F.H,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object(de.jsx)(_e,{onClick:function(){return Q(25)},children:"25%"}),Object(de.jsx)(_e,{onClick:function(){return Q(50)},children:"50%"}),Object(de.jsx)(_e,{onClick:function(){return Q(75)},children:"75%"}),Object(de.jsx)(_e,{onClick:function(){return Q(100)},children:u("Max")})]}),Object(de.jsxs)(F.H,{alignItems:"center",flexDirection:"column",children:[Object(de.jsx)(F.k,{isLoading:k,endIcon:k?Object(de.jsx)(F.f,{spin:!0,color:"currentColor"}):null,onClick:N,disabled:!S||0===parseFloat(S)||B,mt:"24px",mb:"8px",style:oe.a,children:u(k?"Confirming":"Confirm")}),!i&&Object(de.jsx)(ot,{external:!0,href:"/swap",children:Object(de.jsx)(F.k,{width:"100%",variant:"secondary",mt:"8px",mb:"8px",style:oe.b,children:u("Get %symbol%",{symbol:l.symbol})})})]})]})},bt=Object(P.default)(F.M)(p||(p=Object(D.a)(["\n  width: 30px;\n  height: 30px;\n  border-radius: 9px;\n  "," {\n    width: 40px;\n    height: 40px;\n    border-radius: 12px;\n  }\n  "," {\n    width: 48px;\n    height: 48px;\n    border-radius: 16px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.md})),jt=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.stakedBalance,a=e.isBnbPool,r=e.isStaked,i=e.isLoading,s=void 0!==i&&i,o=t.stakingToken,l=t.stakingTokenPrice,b=t.stakingLimit,j=t.isFinished,d=t.userData,u=Object(U.b)().t,x=!Object(F.wb)().isXl,p=Object(Oe.c)(c,o.decimals),O=Object(Oe.c)(c.multipliedBy(l),o.decimals),m=Object(F.xb)(Object(de.jsx)(Ge,{tokenSymbol:o.symbol})),h=Object(A.a)(m,1)[0],f=Object(F.xb)(Object(de.jsx)(lt,{isBnbPool:a,pool:t,stakingTokenBalance:n,stakingTokenPrice:l})),g=Object(A.a)(f,1)[0],k=Object(F.xb)(Object(de.jsx)(lt,{stakingTokenBalance:n,isBnbPool:a,pool:t,stakingTokenPrice:l,isRemovingStake:!0})),y=Object(A.a)(k,1)[0],v=Object(F.zb)(u("You\u2019ve already staked the maximum amount you can stake in this pool!"),{placement:"bottom"}),w=v.targetRef,S=v.tooltip,C=v.tooltipVisible,D=b.gt(0)&&d.stakedBalance.gte(b);return Object(de.jsx)(F.H,{flexDirection:"column",children:s?Object(de.jsx)(F.gb,{width:"100%",height:"52px"}):r?Object(de.jsxs)(F.H,{justifyContent:"space-between",alignItems:"center",children:[Object(de.jsxs)(F.H,{flexDirection:"column",mr:"10px",children:[Object(de.jsx)(le.a,{bold:!0,fontSize:x?"12px":"16px",decimals:3,value:p}),0!==l&&Object(de.jsx)(F.ib,{fontSize:"12px",color:"textSubtle",children:Object(de.jsx)(le.a,{fontSize:x?"12px":"16px",color:"textSubtle",decimals:2,value:O,prefix:"~",unit:" USD"})})]}),Object(de.jsxs)(F.H,{children:[Object(de.jsx)(bt,{variant:"secondary",onClick:y,mr:"6px",children:Object(de.jsx)(F.U,{color:"primary",width:"24px"})}),D?Object(de.jsx)("span",{ref:w,children:Object(de.jsx)(bt,{variant:"secondary",disabled:!0,children:Object(de.jsx)(F.a,{color:"textDisabled",width:"24px",height:"24px"})})}):Object(de.jsx)(bt,{variant:"secondary",onClick:n.gt(0)?g:h,disabled:j,children:Object(de.jsx)(F.a,{color:"primary",width:"24px",height:"24px"})})]}),C&&S]}):Object(de.jsx)(F.k,{disabled:j,onClick:n.gt(0)?g:h,style:oe.a,children:u("Stake")})})},dt={gasLimit:me.g},ut=function(){var e=Object(X.a)(Y.a.mark((function e(t){var n,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deposit("0",dt);case 2:return n=e.sent,e.next=5,n.wait();case 5:return c=e.sent,e.abrupt("return",c.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xt=function(){var e=Object(X.a)(Y.a.mark((function e(t){var n,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deposit(Object(C.a)(Object(C.a)({},dt),{},{value:se.c}));case 2:return n=e.sent,e.next=5,n.wait();case 5:return c=e.sent,e.abrupt("return",c.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(K.b)(),c=Object(E.c)(),a=c.account,r=Object(Le.k)(e),i=Object(Le.g)(),s=Object(T.useCallback)(Object(X.a)(Y.a.mark((function c(){return Y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(Ze.a)(i,0);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,xt(r);case 8:c.next=12;break;case 10:return c.next=12,ut(r);case 12:n(Object($.j)(e,a)),n(Object($.i)(e,a));case 14:case"end":return c.stop()}}),c)}))),[a,n,t,i,r,e]);return{onReward:s}},Ot=Object(P.default)(F.V)(O||(O=Object(D.a)(["\n  border-radius: 20px;\n  background: #1A1A3A;\n"]))),mt=Object(P.default)(F.ib)(m||(m=Object(D.a)(["\n  color: ","\n"])),(function(e){return e.theme.isDark?"white":"black"})),ht=function(e){var t=e.formattedBalance,n=e.fullBalance,c=e.earningToken,a=e.earningsDollarValue,r=e.sousId,i=e.isBnbPool,s=e.isCompoundPool,o=void 0!==s&&s,l=e.onDismiss,b=Object(U.b)().t,j=(Object(qe.a)().theme,Object(Re.a)()),d=j.toastSuccess,u=j.toastError,x=pt(r,i).onReward,p=nt(r,i).onStake,O=Object(T.useState)(!1),m=Object(A.a)(O,2),h=m[0],f=m[1],g=Object(T.useState)(o),k=Object(A.a)(g,2),y=k[0],v=k[1],w=Object(F.zb)(Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(mt,{mb:"12px",children:b("Compound: collect and restake Sphynx into pool.")}),Object(de.jsx)(mt,{children:b("Harvest: collect Sphynx and send to wallet")})]}),{placement:"bottom-end",tooltipOffset:[20,10]}),S=w.targetRef,C=w.tooltip,D=w.tooltipVisible,H=function(){var e=Object(X.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),!y){e.next=17;break}return e.prev=2,e.next=5,p(n,c.decimals);case 5:d("".concat(b("Compounded"),"!"),b("Your %symbol% earnings have been re-invested into the pool!",{symbol:c.symbol})),f(!1),l(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),u(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0),f(!1);case 15:e.next=30;break;case 17:return e.prev=17,e.next=20,x();case 20:d("".concat(b("Harvested"),"!"),b("Your %symbol% earnings have been sent to your wallet!",{symbol:c.symbol})),f(!1),l(),e.next=30;break;case 25:e.prev=25,e.t1=e.catch(17),u(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t1),f(!1);case 30:case"end":return e.stop()}}),e,null,[[2,10],[17,25]])})));return function(){return e.apply(this,arguments)}}();return Object(de.jsxs)(Ot,{title:"".concat(c.symbol," ").concat(b(o?"Collect":"Harvest")),onDismiss:l,headerBackground:"#0E0E26",children:[o&&Object(de.jsxs)(F.H,{justifyContent:"center",alignItems:"center",mb:"24px",children:[Object(de.jsxs)(F.l,{activeIndex:y?0:1,scale:"sm",variant:"subtle",onItemClick:function(e){return v(!e)},children:[Object(de.jsx)(F.m,{as:"button",children:b("Compound")}),Object(de.jsx)(F.m,{as:"button",children:b("Harvest")})]}),Object(de.jsx)(F.H,{ml:"10px",ref:S,children:Object(de.jsx)(F.K,{color:"textSubtle"})}),D&&C]}),Object(de.jsxs)(F.H,{justifyContent:"space-between",alignItems:"center",mb:"24px",children:[Object(de.jsxs)(F.ib,{color:"#A7A7CC",fontSize:"14px",mr:"5px",children:[b(y?"Compounding":"Harvesting"),":"]}),Object(de.jsxs)(F.H,{flexDirection:"column",children:[Object(de.jsxs)(F.ib,{fontSize:"16px",children:[t," ",c.symbol]}),a>0&&Object(de.jsx)(F.ib,{fontSize:"12px",color:"textSubtle",children:"~".concat(Object(Oe.a)(a)," USD")})]})]}),Object(de.jsxs)(F.H,{alignItems:"center",flexDirection:"column",children:[Object(de.jsx)(F.k,{mt:"8px",mb:"8px",onClick:H,isLoading:h,style:oe.a,endIcon:h?Object(de.jsx)(F.f,{spin:!0,color:"currentColor"}):null,children:b(h?"Confirming":"Confirm")}),Object(de.jsx)(F.k,{variant:"text",onClick:l,mt:"8px",mb:"8px",style:oe.b,children:b("Close Window")})]})]})},ft=function(e){var t=e.earnings,n=e.earningToken,c=e.sousId,a=e.isBnbPool,r=e.earningTokenPrice,i=e.isLoading,s=void 0!==i&&i,o=Object(U.b)().t,l=Object(Oe.c)(t,n.decimals),b=Object(Oe.a)(l,3,3),j=Object(Oe.c)(t.multipliedBy(r),n.decimals),d=Object(Oe.e)(t,n.decimals),u=t.toNumber()>0,x=0===c,p=Object(F.xb)(Object(de.jsx)(ht,{formattedBalance:b,fullBalance:d,earningToken:n,earningsDollarValue:j,sousId:c,isBnbPool:a,isCompoundPool:x})),O=Object(A.a)(p,1)[0];return Object(de.jsxs)(F.H,{justifyContent:"space-between",alignItems:"center",mb:"16px",flexDirection:"column",children:[Object(de.jsx)(F.H,{flexDirection:"row",children:s?Object(de.jsx)(F.gb,{width:"80px",height:"48px"}):Object(de.jsx)(de.Fragment,{children:u?Object(de.jsx)(de.Fragment,{children:r>0&&Object(de.jsx)(le.a,{display:"inline",fontSize:"20px",color:"textSubtle",decimals:2,prefix:"$",value:j})}):Object(de.jsx)(de.Fragment,{children:Object(de.jsx)(F.ib,{fontSize:"20px",color:"textDisabled",children:"$0"})})})}),Object(de.jsx)(F.k,{disabled:!u,onClick:O,style:oe.b,children:o("Harvest")})]})},gt=Object(P.default)(F.ib)(h||(h=Object(D.a)(["\n  display: inline;\n"]))),kt=function(e){var t=e.pool,n=e.stakedBalance,c=t.sousId,a=t.stakingToken,r=t.earningToken,i=t.harvest,s=t.poolCategory,o=t.userData,l=t.earningTokenPrice,b=s===Fe.b.BINANCE,j=Object(U.b)().t,d=(null===o||void 0===o?void 0:o.allowance)?new I.a(o.allowance):se.c,u=(null===o||void 0===o?void 0:o.stakingTokenBalance)?new I.a(o.stakingTokenBalance):se.c,x=(null===o||void 0===o?void 0:o.pendingReward)?new I.a(o.pendingReward):se.c,p=!d.gt(0)&&!b,O=n.gt(0),m=!o;return Object(de.jsx)(F.H,{flexDirection:"column",children:Object(de.jsxs)(F.H,{flexDirection:"column",alignItems:"center",children:[i&&Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)(F.j,{display:"inline",children:[Object(de.jsx)(gt,{color:"#A7A7CC",textTransform:"uppercase",fontSize:"14px",children:"".concat(r.symbol," ")}),Object(de.jsx)(gt,{color:"#A7A7CC",textTransform:"uppercase",fontSize:"14px",children:j("Earned")})]}),Object(de.jsx)(ft,{earnings:x,earningToken:r,sousId:c,earningTokenPrice:l,isBnbPool:b,isLoading:m})]}),Object(de.jsxs)(F.j,{display:"inline",mb:"5px",children:[Object(de.jsxs)(gt,{color:"#A7A7CC",textTransform:"uppercase",fontSize:"14px",children:[O?a.symbol:j("Stake")," "]}),Object(de.jsx)(gt,{color:"#A7A7CC",textTransform:"uppercase",fontSize:"14px",children:O?j("Staked"):"".concat(a.symbol)})]}),p?Object(de.jsx)(Xe,{pool:t,isLoading:m}):Object(de.jsx)(jt,{isLoading:m,pool:t,stakingTokenBalance:u,stakedBalance:n,isBnbPool:b,isStaked:O})]})})},yt=Object(P.default)(F.p)(f||(f=Object(D.a)(["\n  background-color: transparent;\n"]))),vt=function(e){var t=e.pool,n=e.account,c=t.sousId,a=t.stakingToken,r=t.earningToken,i=t.isFinished,s=t.userData,o=Object(U.b)().t,l=(null===s||void 0===s?void 0:s.stakedBalance)?new I.a(s.stakedBalance):se.c,b=l.gt(0);return Object(de.jsxs)(xe,{isFinished:i&&0!==c,ribbon:i&&Object(de.jsx)(F.s,{variantColor:"textDisabled",text:o("Finished")}),children:[Object(de.jsx)(Ee,{isStaking:b,earningToken:r,stakingToken:a,isFinished:i&&0!==c}),Object(de.jsxs)(yt,{children:[Object(de.jsx)(ue,{pool:t}),Object(de.jsx)(F.H,{mt:"24px",flexDirection:"column",alignItems:"center",style:{},children:n?Object(de.jsx)(kt,{pool:t,stakedBalance:l}):Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(F.ib,{mb:"10px",textTransform:"uppercase",fontSize:"14px",color:"#A7A7CC",children:o("Start earning")}),Object(de.jsx)(ie.a,{style:oe.a})]})})]}),Object(de.jsx)(He,{pool:t,account:n})]})},wt=function(e){var t=e.isLoading,n=void 0!==t&&t,c=e.setLastUpdated,a=Object(U.b)().t,r=Ne(c),i=r.handleApprove,s=r.requestedApproval;return Object(de.jsx)(de.Fragment,{children:n?Object(de.jsx)(F.gb,{width:"100%",height:"52px"}):Object(de.jsx)(F.k,{isLoading:s,endIcon:s?Object(de.jsx)(F.f,{spin:!0,color:"currentColor"}):null,disabled:s,onClick:i,style:oe.a,children:a("Enable")})})},St=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:259200,c=Object(T.useState)(null),a=Object(A.a)(c,2),r=a[0],i=a[1],s=Object(T.useState)(!1),o=Object(A.a)(s,2),l=o[0],b=o[1],j=Object(T.useState)(Math.floor(Date.now()/1e3)),d=Object(A.a)(j,2),u=d[0],x=d[1];return Object(T.useEffect)((function(){var c=e+n-u,a=t.gt(0)&&c>0,r=setInterval((function(){x((function(e){return e+1}))}),1e3);return a?(i(c),b(!0)):(b(!1),clearInterval(r)),function(){return clearInterval(r)}}),[e,n,i,u,t]),{hasUnstakingFee:l,secondsRemaining:r}},Ct=3600,At=86400,Dt=2629800,Tt=31557600,Ht=function(e){var t=Math.abs(e),n={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return t>=Tt&&(n.years=Math.floor(t/Tt),t-=n.years*Tt),t>=Dt&&(n.months=Math.floor(t/Dt),t-=n.months*Dt),t>=At&&(n.days=Math.floor(t/At),t-=n.days*At),t>=Ct&&(n.hours=Math.floor(t/Ct),t-=n.hours*Ct),t>=60&&(n.minutes=Math.floor(t/60),t-=60*n.minutes),n.seconds=t,n},Bt=function(e){var t=e.secondsRemaining,n=Object(U.b)().t,c=Ht(t),a=c.days,r=c.hours,i=c.minutes;return Object(de.jsx)(F.ib,{fontSize:"14px",children:n("%day%d : %hour%h : %minute%m",{day:a,hour:r,minute:i})})},Pt=function(e){var t=e.isTableVariant,n=Object(U.b)().t,c=Object(E.c)().account,a=_(),r=a.userData,i=r.lastDepositedTime,s=r.userShares,o=a.fees,l=o.withdrawalFee,b=o.withdrawalFeePeriod,j=l/100||"-",d=Object(F.zb)(Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(F.ib,{bold:!0,mb:"4px",children:n("Unstaking fee: %fee%%",{fee:j})}),Object(de.jsx)(F.ib,{children:n("Only applies within 3 days of staking. Unstaking after 3 days will not include a fee. Timer resets every time you stake new SPHYNX in the pool.")})]}),{placement:"bottom-start"}),u=d.targetRef,x=d.tooltip,p=d.tooltipVisible,O=St(parseInt(i,10),s,b),m=O.secondsRemaining,h=O.hasUnstakingFee,f=i&&!h&&s.gt(0),g=c&&i&&h;return Object(de.jsxs)(F.H,{alignItems:t?"flex-start":"center",justifyContent:"space-between",flexDirection:t?"column":"row",children:[p&&x,Object(de.jsxs)(F.ob,{ref:u,small:!0,color:"#A7A7CC",children:[f?"0":j,"% ",f?n("Unstaking Fee").toLowerCase():n(g?"unstaking fee until":"unstaking fee if withdrawn within 72h")]}),g&&Object(de.jsx)(Bt,{secondsRemaining:m})]})},zt=function(e){var t=e.stakingTokenSymbol,n=e.stakeAmount,c=Object(U.b)().t,a=_().fees.withdrawalFee/100,r=(parseFloat(n)*(a/100)).toFixed(4),i=Object(F.zb)(Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(F.ib,{bold:!0,mb:"4px",children:c("Unstaking fee: %fee%%",{fee:a})}),Object(de.jsx)(F.ib,{children:c("Only applies within 3 days of staking. Unstaking after 3 days will not include a fee. Timer resets every time you stake new SPHYNX in the pool.")})]}),{placement:"top-start"}),s=i.targetRef,o=i.tooltip,l=i.tooltipVisible;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)(F.H,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[l&&o,Object(de.jsx)(F.ob,{ref:s,small:!0,children:c("Unstaking Fee")}),Object(de.jsxs)(F.ib,{fontSize:"14px",children:[n?r:"-"," ",t]})]}),Object(de.jsx)(Pt,{})]})},It=Object(P.default)(F.k)(g||(g=Object(D.a)(["\n  flex-grow: 1;\n"]))),Et=function(e){var t=e.pool,n=e.stakingMax,c=e.isRemovingStake,a=void 0!==c&&c,r=e.onDismiss,i=Object(K.b)(),s=t.stakingToken,o=Object(E.c)().account,l=Object(Le.c)(),b=_(),j=b.userData,d=j.lastDepositedTime,u=j.userShares,x=b.pricePerFullShare,p=Object(U.b)().t,O=Object(qe.a)().theme,m=Object(Re.a)(),h=m.toastSuccess,f=m.toastError,g=Object(T.useState)(!1),k=Object(A.a)(g,2),y=k[0],v=k[1],w=Object(T.useState)(""),S=Object(A.a)(w,2),C=S[0],D=S[1],H=Object(T.useState)(0),B=Object(A.a)(H,2),P=B[0],z=B[1],L=St(parseInt(d,10),u).hasUnstakingFee,M=Object(Z.f)(),R=M.gt(0)&&C?Object(Oe.a)(new I.a(C).times(M).toNumber()):"",V=function(e){if(e>0){var t=n.dividedBy(100).multipliedBy(e),c=Object(Oe.e)(t,s.decimals,s.decimals);D(c)}else D("");z(e)},Q=function(){var e=Object(X.a)(Y.a.mark((function e(t){var n,c,a,s,b;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),n=Object(je.a)(t,x),c=new I.a(1e12),a=u.minus(n.sharesAsBigNumber),!a.lte(c)){e.next=22;break}return e.prev=6,e.next=9,l.withdrawAll();case 9:return s=e.sent,e.next=12,s.wait();case 12:e.sent.status&&(h(p("Unstaked!"),p("Your earnings have also been harvested to your wallet")),v(!1),r(),i(Object($.d)({account:o}))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),f(p("Error"),p("Please try again. Confirm the transaction and make sure you are paying enough gas!")),v(!1);case 20:e.next=36;break;case 22:return e.prev=22,e.next=25,l.withdraw(n.sharesAsBigNumber.toString());case 25:return b=e.sent,e.next=28,b.wait();case 28:e.sent.status&&(h(p("Unstaked!"),p("Your earnings have also been harvested to your wallet")),v(!1),r(),i(Object($.d)({account:o}))),e.next=36;break;case 32:e.prev=32,e.t1=e.catch(22),f(p("Error"),p("Please try again. Confirm the transaction and make sure you are paying enough gas!")),v(!1);case 36:case"end":return e.stop()}}),e,null,[[6,16],[22,32]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(X.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,l.deposit(t.toString());case 4:return n=e.sent,e.next=7,n.wait();case 7:e.sent.status&&(h(p("Staked!"),p("Your funds have been staked in the pool")),v(!1),r(),i(Object($.d)({account:o}))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),f(p("Error"),p("Please try again. Confirm the transaction and make sure you are paying enough gas!")),v(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(X.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(Oe.d)(new I.a(C),s.decimals),a?Q(t):N(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(de.jsxs)(F.V,{title:p(a?"Unstake":"Stake in Pool"),onDismiss:r,headerBackground:O.colors.gradients.cardHeader,children:[Object(de.jsxs)(F.H,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(de.jsxs)(F.ib,{bold:!0,children:[p(a?"Unstake":"Stake"),":"]}),Object(de.jsxs)(F.H,{alignItems:"center",minWidth:"70px",children:[Object(de.jsx)(F.N,{src:"/images/tokens/".concat(Object(fe.a)(s.address),".png"),width:24,height:24,alt:s.symbol}),Object(de.jsx)(F.ib,{ml:"4px",bold:!0,children:s.symbol})]})]}),Object(de.jsx)(F.g,{value:C,onUserInput:function(e){if(e){var t=new I.a(e).multipliedBy(se.b.pow(s.decimals)),c=Math.floor(t.dividedBy(n).multipliedBy(100).toNumber());z(c>100?100:c)}else z(0);D(e)},currencyValue:M.gt(0)&&"~".concat(R||0," USD"),decimals:s.decimals}),Object(de.jsx)(F.ib,{mt:"8px",ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:p("Balance: %balance%",{balance:Object(Oe.e)(n,s.decimals)})}),Object(de.jsx)($e.a,{min:0,max:99,value:P,onChange:function(e){return V(Math.ceil(e))},name:"stake",valueLabel:"".concat(P,"%"),step:1}),Object(de.jsxs)(F.H,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object(de.jsx)(It,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return V(25)},children:"25%"}),Object(de.jsx)(It,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return V(50)},children:"50%"}),Object(de.jsx)(It,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return V(75)},children:"75%"}),Object(de.jsx)(It,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return V(100)},children:p("Max")})]}),a&&L&&Object(de.jsx)(zt,{stakingTokenSymbol:s.symbol,stakeAmount:C}),Object(de.jsx)(F.k,{isLoading:y,endIcon:y?Object(de.jsx)(F.f,{spin:!0,color:"currentColor"}):null,onClick:q,disabled:!C||0===parseFloat(C),mt:"24px",children:p(y?"Confirming":"Confirm")}),!a&&Object(de.jsx)(F.k,{mt:"8px",as:"a",external:!0,href:"#/swap",variant:"secondary",children:p("Get %symbol%",{symbol:s.symbol})})]})},Ft=function(e){var t=e.pool,n=e.stakingTokenBalance,c=_(),a=c.userData.userShares,r=c.pricePerFullShare,i=t.stakingToken,s=Object(je.b)(a,r),o=s.cakeAsBigNumber,l=s.cakeAsNumberBalance,b=Object(Z.f)(),j=b.gt(0)?Object(Oe.c)(o.multipliedBy(b),i.decimals):0,d=Object(F.xb)(Object(de.jsx)(Ge,{tokenSymbol:i.symbol})),u=Object(A.a)(d,1)[0],x=Object(F.xb)(Object(de.jsx)(Et,{stakingMax:n,pool:t})),p=Object(A.a)(x,1)[0],O=Object(F.xb)(Object(de.jsx)(Et,{stakingMax:o,pool:t,isRemovingStake:!0})),m=Object(A.a)(O,1)[0];return Object(de.jsxs)(F.H,{justifyContent:"space-between",alignItems:"center",children:[Object(de.jsxs)(F.H,{flexDirection:"column",children:[Object(de.jsx)(le.a,{fontSize:"20px",bold:!0,value:l,decimals:5}),Object(de.jsx)(F.ib,{fontSize:"12px",color:"textSubtle",children:b.gt(0)?Object(de.jsx)(le.a,{value:j,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"}):Object(de.jsx)(F.gb,{mt:"1px",height:16,width:64})})]}),Object(de.jsxs)(F.H,{children:[Object(de.jsx)(F.M,{variant:"secondary",onClick:m,mr:"6px",children:Object(de.jsx)(F.U,{color:"primary",width:"24px"})}),Object(de.jsx)(F.M,{variant:"secondary",onClick:n.gt(0)?p:u,children:Object(de.jsx)(F.a,{color:"primary",width:"24px",height:"24px"})})]})]})},Lt=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.accountHasSharesStaked,a=e.isLoading,r=void 0!==a&&a,i=t.stakingToken,s=Object(U.b)().t,o=Object(F.xb)(Object(de.jsx)(Ge,{tokenSymbol:i.symbol})),l=Object(A.a)(o,1)[0],b=Object(F.xb)(Object(de.jsx)(Et,{stakingMax:n,pool:t})),j=Object(A.a)(b,1)[0];return Object(de.jsx)(F.H,{flexDirection:"column",children:r?Object(de.jsx)(F.gb,{width:"100%",height:"52px"}):c?Object(de.jsx)(Ft,{pool:t,stakingTokenBalance:n}):Object(de.jsx)(F.k,{style:oe.a,onClick:n.gt(0)?j:l,children:s("Stake")})})},Mt=Object(P.default)(F.ib)(k||(k=Object(D.a)(["\n  display: inline;\n"]))),Rt=function(e){var t=e.pool,n=e.accountHasSharesStaked,c=e.isLoading,a=t.stakingToken,r=t.userData,i=Object(U.b)().t,s=(null===r||void 0===r?void 0:r.stakingTokenBalance)?new I.a(r.stakingTokenBalance):se.c,o=Ye(),l=o.isVaultApproved,b=o.setLastUpdated;return Object(de.jsx)(F.H,{flexDirection:"column",children:Object(de.jsxs)(F.H,{flexDirection:"column",alignItems:"center",children:[Object(de.jsxs)(F.j,{display:"inline",mb:"10px",children:[Object(de.jsxs)(Mt,{color:"#A7A7CC",textTransform:"uppercase",fontSize:"14px",children:[n?a.symbol:i("Stake")," "]}),Object(de.jsx)(Mt,{color:"#A7A7CC",textTransform:"uppercase",fontSize:"14px",children:n?i("Staked (compounding)"):"".concat(a.symbol)})]}),l?Object(de.jsx)(Lt,{isLoading:c,pool:t,stakingTokenBalance:s,accountHasSharesStaked:n}):Object(de.jsx)(wt,{isLoading:c,setLastUpdated:b})]})})},Vt=function(e){var t=e.cakeToDisplay,n=e.dollarValueToDisplay,c=e.dateStringToDisplay,a=Object(U.b)().t,r=Object(F.zb)(Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(le.a,{fontSize:"16px",value:t,decimals:3,bold:!0,unit:" CAKE"}),Object(de.jsx)(le.a,{fontSize:"16px",value:n,decimals:2,bold:!0,prefix:"~$"}),a("Earned since your last action"),Object(de.jsx)(F.ib,{children:c})]}),{placement:"bottom-end"}),i=r.targetRef,s=r.tooltip,o=r.tooltipVisible;return Object(de.jsxs)(de.Fragment,{children:[o&&s,Object(de.jsx)(F.ob,{ref:i,small:!0,children:Object(de.jsx)(le.a,{fontSize:"14px",value:t})})]})},Ut=function(){var e=Object(U.b)().t,t=Object(E.c)().account,n=_(),c=n.pricePerFullShare,a=n.userData,r=a.cakeAtLastUserAction,i=a.userShares,s=a.lastUserActionTime,o=Object(Z.f)(),l=Object(je.d)(t,r,i,c,o.toNumber()),b=l.hasAutoEarnings,j=l.autoCakeToDisplay,d=l.autoUsdToDisplay,u=s&&1e3*parseInt(s),x=new Date(u).toLocaleString();return Object(de.jsxs)(F.H,{alignItems:"center",justifyContent:"space-between",children:[Object(de.jsx)(F.ib,{color:"#A7A7CC",fontSize:"14px",children:"".concat(e("Recent SPHYNX profit"),":")}),b&&Object(de.jsx)(Vt,{cakeToDisplay:j,dollarValueToDisplay:d,dateStringToDisplay:x})]})},Qt=Object(P.default)(F.p)(y||(y=Object(D.a)(["\n  min-height: ",";\n"])),(function(e){return e.isLoading?"0":"254px"})),Nt=function(e){var t=e.pool,n=e.showStakedOnly,c=Object(U.b)().t,a=Object(E.c)().account,r=_(),i=r.userData,s=i.userShares,o=i.isLoading,l=r.fees.performanceFee,b=s&&s.gt(0),j=!t.userData||o,d=l&&l/100;return n&&!b?null:Object(de.jsxs)(xe,{isActive:!0,children:[Object(de.jsx)(Ee,{isStaking:b,isAutoVault:!0,earningToken:Pe.k.sphynx,stakingToken:Pe.k.sphynx}),Object(de.jsxs)(Qt,{isLoading:j,children:[Object(de.jsx)(ue,{pool:t,performanceFee:d}),Object(de.jsx)(F.j,{mt:"24px",children:Object(de.jsx)(Ut,{})}),Object(de.jsx)(F.j,{mt:"8px",children:Object(de.jsx)(Pt,{})}),Object(de.jsx)(F.H,{mt:"32px",flexDirection:"column",alignItems:"center",children:a?Object(de.jsx)(Rt,{pool:t,accountHasSharesStaked:b,isLoading:j}):Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(F.ib,{mb:"10px",textTransform:"uppercase",fontSize:"14px",color:"#A7A7CC",children:c("Start earning")}),Object(de.jsx)(ie.a,{style:oe.a})]})})]}),Object(de.jsx)(He,{pool:t,account:a})]})},Yt=n(462),Xt=n(470);!function(e){e.TABLE="TABLE",e.CARD="CARD"}(w||(w={}));var qt,Kt,Gt,Wt,$t,Jt,_t,Zt,en,tn,nn,cn,an,rn,sn,on,ln,bn,jn,dn,un,xn,pn,On,mn,hn,fn,gn,kn,yn,vn,wn,Sn,Cn,An,Dn,Tn,Hn,Bn,Pn,zn,In,En,Fn,Ln,Mn,Rn,Vn,Un,Qn,Nn,Yn,Xn,qn,Kn,Gn,Wn,$n,Jn,_n,Zn,ec,tc,nc=P.default.div(v||(v=Object(D.a)(["\n  margin-right: 0px;\n  margin-left: -8px;\n\n  "," {\n    margin-left: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),cc=function(e){var t=e.viewMode,n=e.onToggle,c=function(e){t!==e&&n(e)};return Object(de.jsxs)(nc,{children:[Object(de.jsx)(F.M,{variant:"text",scale:"sm",id:"clickPoolCardView",onClick:function(){return c(w.CARD)},children:Object(de.jsx)(F.t,{color:t===w.CARD?"primary":"textDisabled"})}),Object(de.jsx)(F.M,{variant:"text",scale:"sm",id:"clickPoolTableView",onClick:function(){return c(w.TABLE)},children:Object(de.jsx)(F.R,{color:t===w.TABLE?"primary":"textDisabled"})})]})},ac=P.default.div(qt||(qt=Object(D.a)(["\n  display: flex;\n  align-items: center;\n  margin: ",";\n\n  "," {\n    margin-left: 8px;\n  }\n"])),(function(e){return e.isMobile?"0px 25px 0px 0px":"0px 25px 0px 25px"}),F.ib),rc=P.default.div(Kt||(Kt=Object(D.a)(["\n  flex-wrap: wrap;\n  justify-content: center;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  background: ",";\n  padding: 15px;\n  margin: 21px 0px;\n  border-radius: 3px;\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: center;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"])),(function(e){return e.theme.isDark?"#0E0E26":"#2A2E60"}),(function(e){return e.theme.mediaQueries.sm})),ic=Object(P.default)(F.H)(Gt||(Gt=Object(D.a)(["\n    height: 47px;\n    margin: 12px 0;\n    margin-right: ",";\n    width: ",";\n    background: ",";\n    > div {\n        flex: 1;\n        height: 47px;\n        border-radius: 5px;\n        box-sizing: border-box;\n        background: ",";\n        > div {\n            border: 1px solid ",";\n            height: 47px;\n            background: ",";\n            > div {\n                color: #A7A7CC;\n            }\n        }\n  }\n"])),(function(e){return e.isMobile?"0":"38px"}),(function(e){return e.isMobile?"100%":"auto"}),(function(e){return e.theme.isDark?"#0E0E26":"#2A2E60"}),(function(e){return e.theme.isDark?"#0E0E26":"#2A2E60"}),(function(e){return e.theme.isDark?"#2E2E55":"#4A5187"}),(function(e){return e.theme.isDark?"#0E0E26":"#2A2E60"})),sc=P.default.div(Wt||(Wt=Object(D.a)(["\n  flex: 1;\n  position: relative;\n  padding: 0 20px;\n  z-index: 3;\n  "," {\n    min-width: 420px;\n  }\n  & input {\n    background: transparent;\n    border: none;\n    width: 100%;\n    box-shadow: none;\n    outline: none;\n    color: #A7A7CC;\n    font-size: 16px;\n    &::placeholder {\n      color: #A7A7CC;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),oc=P.default.div($t||($t=Object(D.a)(["\n  position: absolute;\n  width: 100%;\n  background: #131313;\n  color: #eee;\n  margin-top: 12px;\n  overflow-y: auto;\n  max-height: 90vh;\n  & a {\n    color: white !important;\n  }\n  & .selectedItem {\n    background: rgba(0, 0, 0, 0.4);\n  }\n  "," {\n    max-height: 600px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),lc=Object(P.default)(F.ib)(Jt||(Jt=Object(D.a)(["\n  padding: 0 4px;\n  width: ",";\n  height: 47px;\n  text-overflow: ellipsis;\n  border-radius: 16px;\n  display: flex;\n  align-items: center;\n  border: 1px solid ",";\n  border-radius: 5px;\n  margin: 12px 0;\n  & button:last-child {\n    background: #8b2a9b;\n  }\n  "," {\n    flex: 1;\n    margin: 0;\n    border: 1px solid ",";\n    border-radius: 5px;\n  }\n"])),(function(e){return e.isMobile?"100%":"auto"}),(function(e){return e.theme.isDark?"#2E2E55":"#4A5187"}),(function(e){return e.theme.mediaQueries.md}),(function(e){return e.theme.isDark?"#2E2E55":"#4A5187"})),bc=Object(P.default)(F.M)(_t||(_t=Object(D.a)(["\n  background-color: transparent !important;\n  margin: 0px 3px;\n  border: none;\n  outline: none !important;\n"]))),jc=function(e){var t=e.stakedOnly,n=e.setStakedOnly,c=e.viewMode,a=e.setViewMode,r=e.setSortOption,i=e.setSearchQuery,s=Object(U.b)().t,o=!Object(F.wb)().isXl,l=Object(T.useState)(!1),b=Object(A.a)(l,2),j=b[0],d=(b[1],Object(T.useState)([])),u=Object(A.a)(d,2),x=u[0],p=(u[1],Object(de.jsx)(cc,{viewMode:c,onToggle:function(e){return a(e)}})),O=Object(de.jsxs)(ac,{isMobile:o,children:[Object(de.jsx)(F.lb,{checked:t,onChange:function(){return n(!t)},scale:"sm"}),Object(de.jsxs)(F.ib,{color:"#A7A7CC",children:[" ",s("Staked only")]})]});return Object(de.jsxs)(rc,{children:[Object(de.jsx)(ic,{isMobile:o,children:Object(de.jsx)(Yt.a,{options:[{label:s("Hot"),value:"hot"},{label:s("APR"),value:"apr"},{label:s("Earned"),value:"earned"},{label:s("Total staked"),value:"totalStaked"}],onChange:function(e){r(e.value)}})}),Object(de.jsxs)(lc,{isMobile:o,children:[Object(de.jsxs)(sc,{children:[Object(de.jsx)("input",{placeholder:"Search pools",onChange:function(e){i(e.target.value)}}),j&&Object(de.jsx)(oc,{children:x.length>0?Object(de.jsx)("span",{children:"ddd"}):null})]}),Object(de.jsx)(bc,{onClick:function(){console.log("search")},children:Object(de.jsx)(Xt.a,{width:"22px",height:"22px",color:Object(P.useTheme)().colors.primary})})]}),Object(de.jsxs)(F.H,{justifyContent:"center",alignItems:"center",width:o?"100%":"auto",height:"47px",children:[O,p]})]})},dc=n.p+"static/media/StopwatchIcon.1a88a69d.svg",uc=P.default.div(Zt||(Zt=Object(D.a)(["\n  background-color: ",";\n  height: 1px;\n  margin: 16px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.backgroundDisabled})),xc=function(e){var t=e.onDismiss,n=e.TooltipComponent,c=Object(U.b)().t,a=Object(E.c)().account,r=Object(qe.a)().theme,i=Object(Re.a)(),s=i.toastError,o=i.toastSuccess,l=Object(Le.c)(),b=Object(T.useState)(!1),j=Object(A.a)(b,2),d=j[0],u=j[1],x=_(),p=x.estimatedCakeBountyReward,O=x.totalPendingCakeHarvest,m=x.fees.callFee,h=Object(Z.f)(),f=m/100,g=Object(Oe.c)(O,18),k=Object(T.useMemo)((function(){return new I.a(p).multipliedBy(h)}),[h,p]),y=k.gte(0),v=!!p&&p.gte(0),w=y?Object(Oe.c)(k,18):0,S=v?Object(Oe.c)(p,18):0,C=Object(F.zb)(Object(de.jsx)(n,{fee:m}),{placement:"bottom",tooltipPadding:{right:15}}),D=C.targetRef,H=C.tooltip,B=C.tooltipVisible,P=function(){var e=Object(X.a)(Y.a.mark((function e(){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,l.harvest();case 4:return n=e.sent,e.next=7,n.wait();case 7:e.sent.status&&(o(c("Bounty collected!"),c("SPHYNX bounty has been sent to your wallet.")),u(!1),t()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),s(c("Error"),c("Please try again. Confirm the transaction and make sure you are paying enough gas!")),u(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(de.jsxs)(F.V,{title:c("Claim Bounty"),onDismiss:t,headerBackground:r.colors.gradients.cardHeader,children:[B&&H,Object(de.jsxs)(F.H,{alignItems:"flex-start",justifyContent:"space-between",children:[Object(de.jsx)(F.ib,{children:c("You\u2019ll claim")}),Object(de.jsxs)(F.H,{flexDirection:"column",children:[Object(de.jsx)(le.a,{bold:!0,value:S,decimals:7,unit:" SPHYNX"}),Object(de.jsx)(F.ib,{fontSize:"12px",color:"textSubtle",children:Object(de.jsx)(le.a,{fontSize:"12px",color:"textSubtle",value:w,decimals:2,unit:" USD",prefix:"~"})})]})]}),Object(de.jsx)(uc,{}),Object(de.jsxs)(F.H,{alignItems:"center",justifyContent:"space-between",children:[Object(de.jsx)(F.ib,{fontSize:"14px",color:"textSubtle",children:c("Pool total pending yield")}),Object(de.jsx)(le.a,{color:"textSubtle",value:g,unit:" SPHYNX"})]}),Object(de.jsxs)(F.H,{alignItems:"center",justifyContent:"space-between",mb:"24px",children:[Object(de.jsx)(F.ib,{fontSize:"14px",color:"textSubtle",children:c("Bounty")}),Object(de.jsxs)(F.ib,{fontSize:"14px",color:"textSubtle",children:[f,"%"]})]}),a?Object(de.jsx)(F.k,{isLoading:d,disabled:!w||!S||!m,endIcon:d?Object(de.jsx)(F.f,{spin:!0,color:"currentColor"}):null,onClick:P,mb:"28px",id:"autoCakeConfirmBounty",children:c(d?"Confirming":"Confirm")}):Object(de.jsx)(ie.a,{mb:"28px"}),Object(de.jsxs)(F.H,{justifyContent:"center",alignItems:"center",children:[Object(de.jsx)(F.ib,{fontSize:"16px",bold:!0,color:"textSubtle",mr:"4px",children:c("What\u2019s this?")}),Object(de.jsx)("span",{ref:D,children:Object(de.jsx)(F.K,{color:"textSubtle"})})]})]})},pc=Object(P.default)(F.o)(en||(en=Object(D.a)(["\n  width: 100%;\n  flex: 1;\n  background: transparent;\n\n  & > div > div {\n    padding: 24px 0;\n  }\n\n  "," {\n    min-width: 240px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Oc=Object(P.default)(F.H)(tn||(tn=Object(D.a)(["\n  align-items: center;\n  flex-direction: ",";\n"])),(function(e){return e.isMobile?"column":"row"})),mc=Object(P.default)(F.ib)(nn||(nn=Object(D.a)(["\n    font-size: 12px;\n    font-weight: bold;\n    color: white;\n    margin-right: 4px;\n    text-align: center;\n  "," {\n    font-size: 15px;\n  }\n  "," {\n    font-size: 20px;\n  }\n"])),(function(e){return e.theme.mediaQueries.xs}),(function(e){return e.theme.mediaQueries.sm})),hc=Object(P.default)(F.ib)(cn||(cn=Object(D.a)(["\n  color: white;\n"]))),fc=function(){var e=Object(U.b)().t,t=!Object(F.wb)().isXl,n=_(),c=n.estimatedCakeBountyReward,a=n.fees.callFee,r=Object(Z.f)(),i=Object(T.useMemo)((function(){return new I.a(c).multipliedBy(r)}),[r,c]),s=i.gte(0),o=!!c&&c.gte(0),l=s?Object(Oe.c)(i,18):0,b=o?Object(Oe.c)(c,18):0,j=function(t){var n=t.fee;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(hc,{mb:"16px",children:e("This bounty is given as a reward for providing a service to other users.")}),Object(de.jsx)(hc,{mb:"16px",children:e("Whenever you successfully claim the bounty, you\u2019re also helping out by activating the Auto SPHYNX Pool\u2019s compounding function for everyone.")}),Object(de.jsx)(hc,{style:{fontWeight:"bold"},children:e("Auto-Compound Bounty: %fee%% of all Auto SPHYNX pool users pending yield",{fee:n/100})})]})},d=Object(F.xb)(Object(de.jsx)(xc,{TooltipComponent:j})),u=Object(A.a)(d,1)[0],x=Object(F.zb)(Object(de.jsx)(j,{fee:a}),{placement:"bottom-end",tooltipOffset:[20,10]}),p=x.targetRef,O=x.tooltip,m=x.tooltipVisible;return Object(de.jsxs)(de.Fragment,{children:[m&&O,Object(de.jsx)(pc,{background:"transparent",children:Object(de.jsx)(F.p,{children:Object(de.jsxs)(F.H,{flexDirection:t?"column":"row",alignItems:"center",children:[Object(de.jsx)(F.H,{flexGrow:1,style:{borderRight:"".concat(t?"0px":"1px"," solid #21214A")},children:Object(de.jsxs)(Oc,{isMobile:t,children:[Object(de.jsx)("img",{src:dc,alt:"Stopwatch Logo",width:t?"50":"100"}),Object(de.jsxs)(F.H,{flexDirection:"column",children:[Object(de.jsxs)(F.H,{alignItems:"center",mb:"2px",children:[Object(de.jsx)(mc,{children:e("Auto SPHYNX Bounty")}),Object(de.jsx)(F.j,{ref:p,children:Object(de.jsx)(F.K,{color:"white"})})]}),Object(de.jsx)(F.H,{flexDirection:"column",alignItems:t?"center":"star-flex",children:Object(de.jsx)(F.J,{children:o?Object(de.jsx)(le.a,{fontSize:t?"13px":"15px",color:"#777777",value:b,decimals:3}):Object(de.jsx)(F.gb,{height:20,width:96,mb:"2px"})})})]})]})}),Object(de.jsx)(F.H,{flexGrow:1,alignItems:"center",justifyContent:"end",children:Object(de.jsx)(F.k,{variant:"primary",disabled:!l||!b||!a,onClick:u,scale:"sm",id:"clickClaimVaultBounty",style:{fontSize:"13px",color:"white",backgroundColor:"#2E2E55",borderColor:"#2E2E55",borderRadius:"5px"},children:e("Claim")})})]})})})]})},gc=n(1503),kc=P.default.div(an||(an=Object(D.a)(["\n  color: black;\n  padding: 24px 8px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n"]))),yc=Object(P.default)(F.H)(rn||(rn=Object(D.a)(["\n  flex-direction: column;\n  justify-content: center;\n  "," {\n    line-height: 1;\n  }\n"])),F.ib),vc=kc,wc=Object(P.default)(vc)(sn||(sn=Object(D.a)(["\n  align-items:  ",";\n  flex-direction: ",";\n  flex: 2;\n  "," {\n  }\n"])),(function(e){return e.isMobile?"flex-start":"center"}),(function(e){return e.isMobile?"column":"row"}),(function(e){return e.theme.mediaQueries.sm})),Sc=function(e){var t=e.pool,n=Object(U.b)().t,c=Object(F.wb)(),a=c.isXs,r=c.isXl,i=c.isSm,s=!r,o=t.sousId,l=t.stakingToken,b=t.earningToken,j=t.userData,d=t.isFinished,u=t.isAutoVault,x=_().userData.userShares,p=x&&x.gt(0),O=l.symbol,m=b.symbol,h=((null===j||void 0===j?void 0:j.stakedBalance)?new I.a(j.stakedBalance):se.c).gt(0),f=0===o,g=u?p:h,k="".concat(n("Earn")," ").concat(m),y="".concat(n("Stake")," ").concat(O),v=0!==o||0===o&&!a&&!i;return u?(k=n("Auto SPHYNX"),y=n("Automatic restaking")):f&&(k=n("Manual SPHYNX"),y="".concat(n("Earn")," SPHYNX ").concat(n("Stake").toLocaleLowerCase()," SPHYNX")),Object(de.jsxs)(wc,{role:"cell",isMobile:s,children:[u?Object(de.jsx)(ze,{mr:"8px",width:s?50:70,height:s?50:70}):Object(de.jsx)(Be.a,{primaryToken:b,secondaryToken:l,mr:"8px",width:s?50:70,height:s?50:70}),Object(de.jsxs)(yc,{children:[g&&Object(de.jsx)(F.ib,{fontSize:"12px",bold:!0,color:d?"failure":"secondary",textTransform:"uppercase",children:n("Staked")}),Object(de.jsx)(F.ib,{bold:!a&&!i,small:a||i,mb:"5px",children:k}),v&&Object(de.jsx)(F.ib,{fontSize:s?"12px":"15px",color:"#777777",children:y})]})]})},Cc=Object(P.default)(vc)(on||(on=Object(D.a)(["\n  flex: 1;\n  "," {\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Ac=P.default.div(ln||(ln=Object(D.a)(["\n  align-self: center;\n"]))),Dc=function(e){var t=e.pool,n=e.account,c=e.userDataLoaded,a=Object(U.b)().t,r=Object(F.wb)(),i=r.isXs,s=r.isSm,o=t.sousId,l=t.earningToken,b=t.poolCategory,j=t.userData,d=t.earningTokenPrice,u=t.isAutoVault,x=0===o,p=(null===j||void 0===j?void 0:j.pendingReward)?new I.a(j.pendingReward):se.c,O=Object(Oe.c)(p,l.decimals),m=Object(Oe.c)(p.multipliedBy(d),l.decimals),h=n&&p.gt(0),f=Object(Oe.e)(p,l.decimals),g=Object(Oe.a)(O,3,3),k=b===Fe.b.BINANCE,y=_(),v=y.userData,w=v.cakeAtLastUserAction,S=v.userShares,C=v.lastUserActionTime,D=y.pricePerFullShare,T=Object(je.d)(n,w,S,D,d),H=T.hasAutoEarnings,B=T.autoCakeToDisplay,P=T.autoUsdToDisplay,z=C&&1e3*parseInt(C),E=new Date(z).toLocaleString(),L=u?a("Recent SPHYNX profit"):a("%asset% Earned",{asset:l.symbol});O=u?B:O,h=u?H:h,m=u?P:m;var M=Object(F.zb)(Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(le.a,{fontSize:"16px",value:B,decimals:3,bold:!0,unit:" SPHYNX"}),Object(de.jsx)(le.a,{fontSize:"16px",value:P,decimals:2,bold:!0,prefix:"~$"}),a("Earned since your last action"),Object(de.jsx)(F.ib,{children:E})]}),{placement:"bottom"}),R=M.targetRef,V=M.tooltip,Q=M.tooltipVisible,N=Object(F.xb)(Object(de.jsx)(ht,{formattedBalance:g,fullBalance:f,earningToken:l,earningsDollarValue:m,sousId:o,isBnbPool:k,isCompoundPool:x})),Y=Object(A.a)(N,1)[0];return Object(de.jsx)(Cc,{role:"cell",children:Object(de.jsxs)(yc,{children:[Object(de.jsx)(F.ib,{fontSize:"12px",color:"#A7A7CC",textAlign:"left",mb:"4px",children:L}),!c&&n?Object(de.jsx)(F.gb,{width:"80px",height:"16px"}):Object(de.jsxs)(de.Fragment,{children:[Q&&V,Object(de.jsxs)(F.H,{children:[Object(de.jsx)(F.j,{mr:"8px",height:"32px",onClick:!u&&h?function(e){e.stopPropagation(),Y()}:void 0,children:Object(de.jsx)(le.a,{mt:"4px",bold:!i&&!s,fontSize:i||s?"14px":"16px",color:h?"primary":"textDisabled",decimals:h?5:1,value:h?O:0})}),u&&h&&!i&&!s&&Object(de.jsx)(Ac,{ref:R,children:Object(de.jsx)(F.K,{color:"textSubtle"})})]})]})]})})},Tc=n(80),Hc=["pool","showIcon","performanceFee"],Bc=function(e){var t=e.pool,n=e.showIcon,c=e.performanceFee,a=void 0===c?0:c,r=Object(Tc.a)(e,Hc),i=t.stakingToken,s=t.earningToken,o=t.isFinished,l=t.earningTokenPrice,b=t.apr,j=Object(U.b)().t,d=Object(je.c)(t,a),u=d.apr,x=d.roundingDecimals,p=d.compoundFrequency,O=Object(F.xb)(Object(de.jsx)(be.a,{tokenPrice:l,apr:b,linkLabel:j("Get %symbol%",{symbol:i.symbol}),linkHref:"/swap",earningTokenSymbol:s.symbol,roundingDecimals:x,compoundFrequency:p,performanceFee:a})),m=Object(A.a)(O,1)[0],h=function(e){e.stopPropagation(),m()};return Object(de.jsx)(F.H,Object(C.a)(Object(C.a)({alignItems:"center",justifyContent:"space-between"},r),{},{children:u||o?Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(le.a,{onClick:h,fontSize:"16px",isDisabled:o,value:o?0:u,decimals:2,unit:"%"}),!o&&n&&Object(de.jsx)(F.k,{onClick:h,variant:"text",width:"20px",height:"20px",padding:"0px",marginLeft:"4px",children:Object(de.jsx)(F.n,{color:"textSubtle",width:"20px"})})]}):Object(de.jsx)(F.gb,{width:"80px",height:"16px"})}))},Pc=Object(P.default)(vc)(bn||(bn=Object(D.a)(["\n  flex: 1;\n  "," {\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),zc=function(e){var t=e.pool,n=e.performanceFee,c=Object(U.b)().t,a=Object(F.wb)(),r=a.isXs,i=a.isSm,s=t.isAutoVault;return Object(de.jsx)(Pc,{role:"cell",children:Object(de.jsxs)(yc,{children:[Object(de.jsx)(F.ib,{fontSize:"12px",color:"#A7A7CC",textAlign:"left",mb:"4px",children:c(s?"APY":"APR")}),Object(de.jsx)(Bc,{pool:t,performanceFee:s?n:0,showIcon:!r&&!i})]})})},Ic=Object(P.default)(vc)(jn||(jn=Object(D.a)(["\n  flex: 2;\n"]))),Ec=function(e){var t=e.pool,n=Object(U.b)().t,c=(t.sousId,t.stakingToken),a=t.totalStaked,r=(t.isAutoVault,_().totalCakeInVault,Object(T.useMemo)((function(){return Object(Oe.c)(a,c.decimals)}),[a,c.decimals]));return Object(de.jsx)(Ic,{role:"cell",children:Object(de.jsxs)(yc,{children:[Object(de.jsx)(F.ib,{fontSize:"12px",color:"#A7A7CC",textAlign:"left",mb:"4px",children:n("Total staked")}),a&&a.gte(0)?Object(de.jsxs)(F.H,{mt:"4px",alignItems:"left",flexDirection:"column",children:[Object(de.jsx)(le.a,{fontSize:"16px",value:r,decimals:0,mb:"1px"}),Object(de.jsx)(F.ib,{fontSize:"16px",color:"white",textAlign:"left",children:c.symbol})]}):Object(de.jsx)(F.gb,{width:"80px",height:"16px"})]})})},Fc=Object(P.default)(vc)(dn||(dn=Object(D.a)(["\n  flex: 1;\n"]))),Lc=function(e){var t=e.pool,n=t.sousId,c=t.totalStaked,a=t.startBlock,r=t.endBlock,i=t.isFinished,s=Object(he.a)().currentBlock,o=Object(U.b)().t,l=Object(je.e)(t,s),b=l.shouldShowBlockCountdown,j=l.blocksUntilStart,d=l.blocksRemaining,u=l.hasPoolStarted,x=l.blocksToDisplay,p=0===n,O=b?Object(de.jsxs)(F.H,{alignItems:"center",children:[Object(de.jsxs)(F.H,{flex:"1",children:[Object(de.jsx)(le.a,{fontSize:"16px",value:x,decimals:0}),Object(de.jsx)(F.ib,{ml:"4px",textTransform:"lowercase",children:o("Blocks")})]}),Object(de.jsx)(F.H,{flex:"1",children:Object(de.jsx)(F.P,{external:!0,href:Object(ke.f)(u?r:a,"countdown"),onClick:function(e){return e.stopPropagation()},children:Object(de.jsx)(F.jb,{ml:"4px"})})})]}):Object(de.jsx)(F.ib,{fontSize:"16px",children:"$0"}),m=(!c.gt(0)||!s||!d&&!j)&&!p&&!i;return Object(de.jsx)(Fc,{role:"cell",children:Object(de.jsxs)(yc,{children:[Object(de.jsx)(F.ib,{fontSize:"12px",color:"#A7A7CC",textAlign:"left",mb:"4px",children:o(u||!b?"Ends in":"Starts in")}),m?Object(de.jsx)(F.gb,{width:"80px",height:"16px"}):O]})})},Mc=Object(P.default)(vc)(un||(un=Object(D.a)(["\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n  flex: 1;\n  "," {\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Rc=Object(P.default)(F.x)(xn||(xn=Object(D.a)(["\n  width: 44px;  \n  height: 44px;\n  margin-bottom: auto;\n"]))),Vc=function(e){var t=e.expanded,n=e.isFullLayout,c=Object(U.b)().t;return Object(de.jsxs)(Mc,{role:"cell",children:[n&&Object(de.jsx)(F.ib,{color:"#A7A7CC",fontSize:"12px",children:c(t?"Hide":"Details")}),Object(de.jsx)(Rc,{color:t?"#BC29B1":"white",toggled:t})]})},Uc=(P.default.div(pn||(pn=Object(D.a)(["\n  padding: 16px;\n  flex-grow: 1;\n  flex-basis: 0;\n  margin-bottom: 16px;\n  flex-direction: column;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  height: 110px;\n  position: relative;\n\n  "," {\n    margin-bottom: 0;\n    height: 130px;\n    max-height: 130px;\n  }\n\n  "," {\n    margin-right: 0;\n    margin-bottom: 0;\n    height: 130px;\n    max-height: 130px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.xl})),P.default.div(On||(On=Object(D.a)(["\n  text-align: center;\n  font-weight: 600;\n  font-size: 12px;\n"])))),Qc=P.default.div(mn||(mn=Object(D.a)(["\n  font-weight: 600;\n  font-size: 12px;\n  position: absolute;\n  top: 0px;\n  "," {\n    top: 10px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Nc=P.default.div(hn||(hn=Object(D.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),Yc=P.default.img(fn||(fn=Object(D.a)(["\n    height: 40px;\n    "," {\n        height: 50px;\n    }\n    "," {\n        height: 70px;\n    }\n"])),(function(e){return e.theme.mediaQueries.xs}),(function(e){return e.theme.mediaQueries.sm})),Xc=function(e){e.sousId,e.poolCategory;var t=e.earningToken,n=e.userData,c=e.userDataLoaded,a=e.isAutoVault,r=e.earningTokenPrice,i=Object(U.b)().t,s=Object(E.c)().account,o=!Object(F.wb)().isXl,l=(null===n||void 0===n?void 0:n.pendingReward)?new I.a(n.pendingReward):se.c,b=Object(Oe.c)(l,t.decimals),j=Object(Oe.c)(l.multipliedBy(r),t.decimals),d=l.gt(0),u=_(),x=u.userData,p=x.cakeAtLastUserAction,O=x.userShares,m=u.pricePerFullShare,h=(u.fees.performanceFee,Object(je.d)(s,p,O,m,r)),f=h.hasAutoEarnings,g=h.autoCakeToDisplay,k=h.autoUsdToDisplay;b=a?g:b,d=a?f:d,j=a?k:j;var y=a?Object(de.jsx)(F.ib,{fontSize:"12px",bold:!0,color:"white",as:"span",textTransform:"uppercase",children:i("Recent SPHYNX profit")}):Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)(F.ib,{fontSize:"12px",bold:!0,color:"white",as:"span",textTransform:"uppercase",children:[t.symbol," "]}),Object(de.jsx)(F.ib,{fontSize:"12px",bold:!0,color:"white",as:"span",textTransform:"uppercase",children:i("Earned")})]});return s?c?Object(de.jsxs)(F.H,{flexDirection:o?"column":"row",alignItems:"center",children:[Object(de.jsx)(Yc,{src:ye.a,alt:"token"}),Object(de.jsxs)(F.H,{flexDirection:"column",alignItems:o?"center":"flex-start",children:[Object(de.jsx)(Uc,{children:y}),Object(de.jsx)(F.H,{children:Object(de.jsx)(de.Fragment,{children:d?Object(de.jsx)(de.Fragment,{children:r>0&&Object(de.jsx)(le.a,{display:"inline",fontSize:o?"15px":"24px",color:"white",decimals:2,prefix:"$",value:j})}):Object(de.jsx)(de.Fragment,{children:Object(de.jsx)(F.ib,{fontSize:o?"15px":"24px",color:"textDisabled",children:"$0"})})})})]})]}):Object(de.jsxs)(F.H,{flexDirection:o?"column":"row",alignItems:"center",children:[Object(de.jsx)(Yc,{src:ye.a,alt:"token"}),Object(de.jsx)(F.H,{flexDirection:"column",children:Object(de.jsx)(Uc,{children:y})})]}):Object(de.jsxs)(F.H,{flexDirection:o?"column":"row",alignItems:"center",children:[Object(de.jsx)(Yc,{src:ye.a,alt:"token"}),Object(de.jsxs)(F.H,{flexDirection:"column",alignItems:o?"center":"flex-start",children:[Object(de.jsx)(Uc,{children:y}),Object(de.jsx)(F.ib,{fontSize:o?"15px":"24px",color:"textDisabled",children:"$0"})]})]})},qc=P.default.div(gn||(gn=Object(D.a)(["\n  padding: 16px;\n  flex-grow: 1;\n  flex-basis: 0;\n  margin-bottom: 0;\n  flex-direction: column;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  position: relative;\n\n  "," {\n    margin-bottom: 0;\n    height: 130px;\n    max-height: 130px;\n    margin-bottom: 16px;\n  }\n\n  "," {\n    margin-right: 0;\n    margin-bottom: 0;\n    height: 130px;\n    max-height: 130px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.xl})),Kc=Object(P.default)(F.k)(kn||(kn=Object(D.a)(["\n  border-radius: 5px;\n  border: none;\n  height: 34px;\n  font-size: 13px;\n  background: ",";\n  width: 102px;\n  outline: none;\n\n  "," {\n    width: 176px;\n  }\n\n  &:disabled {\n    background: ",";\n  }\n"])),(function(e){return e.theme.isDark?"#0E0E26":"#2A2E60"}),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.isDark?"#0E0E26":"#2A2E60"})),Gc=Object(P.default)(F.gb)(yn||(yn=Object(D.a)(["\n  width: 102px;\n  "," {\n    width: 176px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Wc=function(e){var t=e.sousId,n=e.poolCategory,c=e.earningToken,a=e.userData,r=e.userDataLoaded,i=e.isAutoVault,s=e.earningTokenPrice,o=Object(U.b)().t,l=Object(E.c)().account,b=(null===a||void 0===a?void 0:a.pendingReward)?new I.a(a.pendingReward):se.c,j=Object(Oe.c)(b,c.decimals),d=Object(Oe.c)(b.multipliedBy(s),c.decimals),u=b.gt(0),x=Object(Oe.e)(b,c.decimals),p=Object(Oe.a)(j,3,3),O=0===t,m=n===Fe.b.BINANCE,h=!Object(F.wb)().isXl,f=_(),g=f.userData,k=g.cakeAtLastUserAction,y=g.userShares,v=f.pricePerFullShare,w=f.fees.performanceFee,S=Object(je.d)(l,k,y,v,s),C=S.hasAutoEarnings,D=S.autoCakeToDisplay,T=S.autoUsdToDisplay;j=i?D:j,u=i?C:u,d=i?T:d;var H=Object(F.xb)(Object(de.jsx)(ht,{formattedBalance:p,fullBalance:x,earningToken:c,earningsDollarValue:d,sousId:t,isBnbPool:m,isCompoundPool:O})),B=Object(A.a)(H,1)[0],P=Object(F.zb)(o("Subtracted automatically from each yield harvest and burned."),{placement:"bottom-start"}),z=P.targetRef,L=P.tooltip,M=P.tooltipVisible;i?(F.ib,o("Recent SPHYNX profit")):(de.Fragment,F.ib,c.symbol,F.ib,o("Earned"));return l?r?Object(de.jsx)(qc,{children:Object(de.jsx)(Nc,{children:i?Object(de.jsxs)(F.H,{flex:"1.3",flexDirection:"column",alignSelf:"flex-start",alignItems:"flex-start",children:[Object(de.jsx)(Pt,{isTableVariant:!0}),Object(de.jsxs)(F.H,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[M&&L,Object(de.jsx)(F.ob,{ref:z,small:!0,fontSize:h?"12px":"14px",children:o("Performance Fee")}),Object(de.jsx)(F.H,{alignItems:"center",children:Object(de.jsxs)(F.ib,{ml:"4px",small:!0,children:[w/100,"%"]})})]})]}):Object(de.jsx)(Kc,{disabled:!u,onClick:B,children:o("Harvest")})})}):Object(de.jsx)(qc,{children:Object(de.jsx)(Nc,{children:Object(de.jsx)(Gc,{height:"32px",marginTop:14})})}):Object(de.jsx)(qc,{children:Object(de.jsx)(Nc,{children:Object(de.jsx)(Kc,{disabled:!0,children:o("Harvest")})})})},$c=P.default.div(vn||(vn=Object(D.a)(["\n  padding: 16px;\n  flex-grow: 1;\n  flex-basis: 0;\n  margin-bottom: 0;\n  flex-direction: column;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  // height: 110px;\n  position: relative;\n\n  "," {\n    margin-bottom: 0;\n    height: 130px;\n    max-height: 130px;\n    margin-bottom: 16px;\n  }\n\n  "," {\n    margin-right: 0;\n    margin-bottom: 0;\n    height: 130px;\n    max-height: 130px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.xl})),Jc=P.default.div(wn||(wn=Object(D.a)(["\n  display: flex;\n  gap: 5px;\n  flex-direction: column;\n  "," {\n    flex-direction: unset;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),_c=Object(P.default)(F.k)(Sn||(Sn=Object(D.a)(["\n  border-radius: 5px;\n  border: none;\n  height: 34px;\n  color: white;\n  font-size: 13px;\n  background: linear-gradient(90deg,#610D89 0%,#C42BB4 100%);\n  width: 102px;\n  outline: none;\n\n  "," {\n    width: 176px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Zc=Object(P.default)(F.gb)(Cn||(Cn=Object(D.a)(["\n  width: 102px;\n  "," {\n    width: 176px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ea=Object(P.default)(F.H)(An||(An=Object(D.a)(["\n  flex: 1;\n  flex-direction: column;\n  margin-bottom: 10px;\n  margin-right: 0px;\n  align-items: center;\n  "," {\n    margin-bottom: 0px;\n    margin-right: 10px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ta=Object(P.default)(Nc)(Dn||(Dn=Object(D.a)(["\n  flex-direction: column;\n  gap: 8px;\n"]))),na=Object(P.default)(F.k)(Tn||(Tn=Object(D.a)(["\n  border-radius: 9px;\n  width: 112px;\n  "," {\n    border-radius: 12px;\n  }\n  "," {\n    border-radius: 16px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.md})),ca=function(e){var t=e.pool,n=e.userDataLoaded,c=t.sousId,a=t.stakingToken,r=t.earningToken,i=t.stakingLimit,s=t.isFinished,o=t.poolCategory,l=t.userData,b=t.stakingTokenPrice,j=t.isAutoVault,d=Object(U.b)().t,u=Object(E.c)().account,x=!Object(F.wb)().isXl,p=Object(Le.f)(a.address?Object(fe.a)(a.address):""),O=Qe(p,c,r.symbol),m=O.handleApprove,h=(O.requestedApproval,Ye()),f=h.isVaultApproved,g=h.setLastUpdated,k=Ne(g),y=k.handleApprove,v=(k.requestedApproval,j?y:m),w=o===Fe.b.BINANCE,S=(null===l||void 0===l?void 0:l.allowance)?new I.a(l.allowance):se.c,C=(null===l||void 0===l?void 0:l.stakedBalance)?new I.a(l.stakedBalance):se.c,D=!j&&C.gt(0),T=(null===l||void 0===l?void 0:l.stakingTokenBalance)?new I.a(l.stakingTokenBalance):se.c,H=Object(Oe.c)(C,a.decimals),B=(Object(Oe.c)(C.multipliedBy(b),a.decimals),_()),P=B.userData.userShares,z=B.pricePerFullShare,L=Object(je.b)(P,z),M=L.cakeAsBigNumber,R=L.cakeAsNumberBalance,V=P&&P.gt(0),Q=j&&V,N=(Object(Oe.c)(M.multipliedBy(b),a.decimals),j?!f:!S.gt(0)&&!w),Y=Object(F.xb)(Object(de.jsx)(Ge,{tokenSymbol:a.symbol})),X=Object(A.a)(Y,1)[0],q=Object(F.xb)(Object(de.jsx)(lt,{isBnbPool:w,pool:t,stakingTokenBalance:T,stakingTokenPrice:b})),K=Object(A.a)(q,1)[0],G=Object(F.xb)(Object(de.jsx)(Et,{stakingMax:T,pool:t})),W=Object(A.a)(G,1)[0],$=Object(F.xb)(Object(de.jsx)(lt,{stakingTokenBalance:T,isBnbPool:w,pool:t,stakingTokenPrice:b,isRemovingStake:!0})),J=Object(A.a)($,1)[0],Z=Object(F.xb)(Object(de.jsx)(Et,{stakingMax:M,pool:t,isRemovingStake:!0})),ee=Object(A.a)(Z,1)[0],te=function(){j?W():K()},ne=Object(F.zb)(d("You've already staked the maximum amount you can stake in this pool!"),{placement:"bottom"}),ce=ne.targetRef,ae=ne.tooltip,re=ne.tooltipVisible,oe=i.gt(0)&&l.stakedBalance.gte(i);return u?n?N?Object(de.jsxs)($c,{children:[Object(de.jsx)(Qc,{children:Object(de.jsx)(F.ib,{fontSize:"12px",bold:!0,color:"#A7A7CC",as:"span",textTransform:"uppercase",children:d("Enable pool")})}),Object(de.jsx)(Nc,{children:Object(de.jsx)(_c,{onClick:v,variant:"secondary",children:d("Enable")})})]}):D||Q?Object(de.jsxs)($c,{children:[Object(de.jsxs)(F.H,{mb:"5px",flexDirection:"column",children:[Object(de.jsxs)(F.ib,{fontSize:"12px",bold:!0,color:"#A7A7CC",as:"span",textTransform:"uppercase",textAlign:"center",children:[a.symbol," "]}),Object(de.jsx)(F.ib,{fontSize:"12px",bold:!0,color:"#A7A7CC",as:"span",textTransform:"uppercase",textAlign:"center",children:d(j?"Staked (compounding)":"Staked")})]}),Object(de.jsxs)(ta,{children:[Object(de.jsx)(ea,{children:Object(de.jsx)(le.a,{lineHeight:"1",bold:!0,fontSize:x?"12px":"16px",decimals:5,value:j?R:H})}),Object(de.jsxs)(Jc,{children:[Object(de.jsx)(na,{variant:"secondary",onClick:function(){j?ee():J()},mr:x?"0":"6px",children:Object(de.jsx)(F.ib,{color:"primary",fontSize:"14px",children:"Remove"})}),oe?Object(de.jsx)("span",{ref:ce,children:Object(de.jsx)(na,{variant:"secondary",disabled:!0,children:Object(de.jsx)(F.ib,{color:"primary",fontSize:"14px",children:"Add"})})}):Object(de.jsx)(na,{variant:"secondary",onClick:T.gt(0)?te:X,disabled:s,children:Object(de.jsx)(F.ib,{color:"primary",fontSize:"14px",children:"Add"})})]}),re&&ae]})]}):Object(de.jsxs)($c,{children:[Object(de.jsxs)(Qc,{children:[Object(de.jsxs)(F.ib,{fontSize:"12px",bold:!0,color:"#A7A7CC",as:"span",textTransform:"uppercase",children:[d("Stake")," "]}),Object(de.jsx)(F.ib,{fontSize:"12px",bold:!0,color:"#A7A7CC",as:"span",textTransform:"uppercase",children:a.symbol})]}),Object(de.jsx)(Nc,{children:Object(de.jsx)(_c,{onClick:T.gt(0)?te:X,variant:"secondary",disabled:s,children:d("Stake")})})]}):Object(de.jsxs)($c,{children:[Object(de.jsx)(Qc,{children:Object(de.jsx)(F.ib,{fontSize:"12px",bold:!0,color:"#A7A7CC",as:"span",textTransform:"uppercase",children:d("Start staking")})}),Object(de.jsx)(Nc,{children:Object(de.jsx)(Zc,{height:"32px",marginTop:14})})]}):Object(de.jsxs)($c,{children:[Object(de.jsx)(Qc,{children:Object(de.jsx)(F.ib,{fontSize:"12px",bold:!0,color:"#A7A7CC",as:"span",textTransform:"uppercase",children:d("Start staking")})}),Object(de.jsx)(Nc,{children:Object(de.jsx)(ie.a,{})})]})},aa=Object(P.keyframes)(Hn||(Hn=Object(D.a)(["\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 700px;\n  }\n"]))),ra=Object(P.keyframes)(Bn||(Bn=Object(D.a)(["\n  from {\n    max-height: 700px;\n  }\n  to {\n    max-height: 0px;\n  }\n"]))),ia=P.default.div(Pn||(Pn=Object(D.a)(["\n  animation: ",";\n  overflow: hidden;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n  background: ",";\n  display: flex;\n  flex-direction: ",";\n  justify-content: center;\n  padding: 5px;\n\n  "," {\n    padding: 12px;\n  }\n  "," {\n    padding: 16px 32px;\n  }\n"])),(function(e){return e.expanded?Object(P.css)(zn||(zn=Object(D.a)(["\n          "," 300ms linear forwards\n        "])),aa):Object(P.css)(In||(In=Object(D.a)(["\n          "," 300ms linear forwards\n        "])),ra)}),(function(e){return e.theme.isDark?"#1A1A3A":"#20234E"}),(function(e){return e.isMobile?"column":"row"}),(function(e){return e.theme.mediaQueries.xs}),(function(e){return e.theme.mediaQueries.lg})),sa=Object(P.default)(F.H)(En||(En=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n\n  "," {\n    flex-direction: row;\n    align-items: center;\n    flex-grow: 2;\n    flex-basis: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),oa=P.default.div(Fn||(Fn=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n\n  "," {\n    flex-direction: row;\n    align-items: center;\n    flex-grow: 1;\n    flex-basis: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),la=Object(P.default)(F.j)(Ln||(Ln=Object(D.a)(["\n  justify-content: center;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  flex-shrink: 0;\n  flex-basis: auto;\n  padding: 8px 8px;\n  "," {\n    padding: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.lg})),ba=Object(P.default)(F.H)(Mn||(Mn=Object(D.a)(["\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  flex-grow: 1;\n"]))),ja=Object(P.default)(F.Q)(Rn||(Rn=Object(D.a)(["\n  font-size: 18px;\n  font-weight: 600;\n  "," {\n    font-size: 20px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),da=Object(P.default)(F.Q)(Vn||(Vn=Object(D.a)(["\n  font-size: 8px;\n  font-weight: 400;\n  flex-flow: row-reverse;\n  > svg {\n    width: 15px;\n    margin-right: 3px;\n    margin-left: 0px;\n  }\n\n  "," {\n    font-size: 10px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ua=Object(P.default)(F.H)(Un||(Un=Object(D.a)(["\n  color: #A7A7CC;\n  border-radius: 5px;\n  border: 1px solid #2E2E55;\n  padding: 3px;\n  "," {\n    padding: 8px;\n  }\n"])),(function(e){return e.theme.mediaQueries.xs})),xa=Object(P.default)(F.H)(Qn||(Qn=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: unset;\n  gap: 10px;\n  "," {\n    flex-direction: row;\n    margin-bottom: 8px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),pa=function(e){e.account;var t,n=e.pool,c=e.userDataLoaded,a=e.expanded,r=e.breakpoints,i=n.sousId,s=n.stakingToken,o=n.earningToken,l=n.totalStaked,b=n.startBlock,j=n.endBlock,d=n.stakingLimit,u=n.contractAddress,x=n.isAutoVault,p=Object(U.b)().t,O=!Object(F.wb)().isXl,m=Object(fe.a)(u),h=Object(fe.g)(),f=Object(he.a)().currentBlock,g=(r.isXs,r.isSm,r.isMd,Object(je.e)(n,f)),k=(g.shouldShowBlockCountdown,g.blocksUntilStart),y=g.blocksRemaining,v=g.hasPoolStarted,w=g.blocksToDisplay,S=(null===(t=window.ethereum)||void 0===t||t.isMetaMask,o.address?Object(fe.a)(o.address):""),A=_(),D=A.totalCakeInVault,H=A.fees.performanceFee,B=H&&H/100,P=0===i,z=Object(F.zb)(p("Total amount of %symbol% staked in this pool",{symbol:s.symbol}),{placement:"bottom"}),E=z.targetRef,L=z.tooltip,M=z.tooltipVisible,R=p("You must harvest and compound your earnings from this pool manually."),V=p("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),Q=Object(F.zb)(x?V:R,{placement:"bottom-start"}),N=Q.targetRef,Y=Q.tooltip,X=Q.tooltipVisible,q=d.gt(0)?Object(de.jsxs)(F.H,{mb:"8px",justifyContent:"space-between",children:[Object(de.jsxs)(F.ib,{children:[p("Max. stake per user"),":"]}),Object(de.jsx)(F.ib,{children:"".concat(Object(Oe.e)(d,s.decimals,0)," ").concat(s.symbol)})]}):null;y||k?(F.H,F.ib,p(v?"Ends in":"Starts in"),F.H,F.P,Object(ke.f)(v?j:b,"countdown"),le.a,F.ib,p("Blocks"),F.jb):F.gb,F.H,F.ib,p(x?"APY":"APR"),F.H,F.ib,p("Total staked"),F.H,l&&l.gte(0)?(de.Fragment,le.a,function(){if(x)return Object(Oe.c)(D,s.decimals);if(P){var e=new I.a(l).minus(D);return Object(Oe.c)(e,s.decimals)}Object(Oe.c)(l,s.decimals)}()," ".concat(s.symbol),F.K):F.gb,Object(T.useCallback)((function(){Object(ge.b)(S,o.symbol,o.decimals)}),[o,S]);return Object(de.jsxs)(ia,{expanded:a,isMobile:O,children:[Object(de.jsxs)(sa,{children:[Object(de.jsxs)(la,{children:[Object(de.jsxs)(F.H,{flexDirection:"row",alignItems:"center",children:[x?Object(de.jsx)(pe.b,{}):Object(de.jsx)(pe.e,{}),X&&Y,Object(de.jsx)("span",{ref:N,children:Object(de.jsx)(F.K,{ml:"4px",width:"14px",height:"14px",color:"#F9B043"})})]}),q,Object(de.jsx)(F.H,{mb:"8px",children:Object(de.jsx)(ja,{href:"https://bscscan.com/token/".concat(Object(fe.a)(o.address)),children:p("See Token Info")})}),Object(de.jsxs)(xa,{children:[Object(de.jsx)(ua,{mr:O?"0":"2px",children:Object(de.jsx)(da,{href:o.projectLink,children:p("View Project Site")})}),m&&Object(de.jsx)(ua,{ml:O?"0":"2px",children:Object(de.jsx)(da,{href:"".concat(me.a,"/address/").concat(x?h:m),children:p("View Contract")})})]})]}),Object(de.jsx)(ba,{children:Object(de.jsx)(Xc,Object(C.a)(Object(C.a)({},n),{},{userDataLoaded:c}))})]}),Object(de.jsxs)(oa,{children:[Object(de.jsx)(Wc,Object(C.a)(Object(C.a)({},n),{},{userDataLoaded:c})),Object(de.jsx)(ca,{pool:n,userDataLoaded:c})]})]})},Oa=P.default.div(Nn||(Nn=Object(D.a)(["\n  background-color: transparent;\n  display: flex;\n  flex-direction: ","; \n  cursor: pointer;\n  border-bottom: "," solid #21214A;\n"])),(function(e){return e.isMobile?"column":"row"}),(function(e){return e.expanded?"0px":"1px"})),ma=function(e){var t=e.pool,n=e.account,c=e.userDataLoaded,a=Object(F.wb)(),r=a.isXs,i=a.isSm,s=a.isMd,o=a.isLg,l=a.isXl,b=!l,j=Object(T.useState)(!1),d=Object(A.a)(j,2),u=d[0],x=d[1],p=Object(gc.a)(u,300),O=_().fees.performanceFee,m=O&&O/100;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)(Oa,{role:"row",expanded:u,isMobile:b,onClick:function(){x((function(e){return!e}))},children:[Object(de.jsxs)(F.H,{width:b?"100%":"60%",children:[Object(de.jsx)(Sc,{pool:t}),Object(de.jsx)(Dc,{pool:t,account:n,userDataLoaded:c}),Object(de.jsx)(zc,{pool:t,performanceFee:m})]}),Object(de.jsxs)(F.H,{width:b?"100%":"40%",children:[Object(de.jsx)(Ec,{pool:t}),Object(de.jsx)(Lc,{pool:t}),Object(de.jsx)(Vc,{expanded:u,isFullLayout:s||o||l})]})]}),p&&Object(de.jsx)(pa,{account:n,pool:t,userDataLoaded:c,expanded:u,breakpoints:{isXs:r,isSm:i,isMd:s,isLg:o,isXl:l}})]})},ha=P.default.div(Yn||(Yn=Object(D.a)(["\n  background-color: transparent;\n"]))),fa=P.default.div(Xn||(Xn=Object(D.a)(["\n  padding: ",";\n  background-color: transparent;\n"])),(function(e){return e.isMobile?"10px":"5px 40px 20px 40px"})),ga=(P.default.div(qn||(qn=Object(D.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 5px;\n  padding-bottom: 5px;\n"]))),function(e){var t=e.pools,n=e.userDataLoaded,c=e.account,a=(Object(U.b)().t,Object(T.useRef)(null)),r=!Object(F.wb)().isXl;return Object(de.jsx)(fa,{isMobile:r,children:Object(de.jsx)(ha,{role:"table",ref:a,children:t.map((function(e){return Object(de.jsx)(ma,{pool:e,account:c,userDataLoaded:n},e.isAutoVault?"auto-cake":e.sousId)}))})})}),ka=n(106),ya=n(95),va=Object(P.default)(F.H)(Kn||(Kn=Object(D.a)(["\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 0px;\n  "," {\n    padding: 0px 10px;\n  }\n  "," {\n    padding: 0px 10px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md}),(function(e){return e.theme.mediaQueries.xl})),wa=Object(P.default)(te.a)(Gn||(Gn=Object(D.a)(["\n  justify-content: center;\n  padding: 47px 69px 0;\n"]))),Sa=Object(P.default)(F.H)(Wn||(Wn=Object(D.a)(["\n  align-items: ",";\n  flex-direction: ",";\n  "," {\n\n  }\n"])),(function(e){return e.isMobile?"start-flex":"center"}),(function(e){return e.isMobile?"column":"row"}),(function(e){return e.theme.mediaQueries.md})),Ca=P.default.div($n||($n=Object(D.a)(["\n  display: block;\n  width: 100%;\n  "," {\n\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Aa=P.default.div(Jn||(Jn=Object(D.a)(["\n  display: flex;\n  align-items: center;\n"]))),Da=Object(P.default)(F.ib)(_n||(_n=Object(D.a)(["\n  color: white;\n  font-size: 13px;\n  font-weight: bold;\n  "," {\n    font-size: 20px;\n  }\n  "," {\n    font-size: 26px;\n  }\n"])),(function(e){return e.theme.mediaQueries.xs}),(function(e){return e.theme.mediaQueries.sm})),Ta=Object(P.default)(F.ib)(Zn||(Zn=Object(D.a)(["\n  color: #777777;\n  font-size: 12px;\n  "," {\n    font-size: 13px;\n  }\n  "," {\n    font-size: 15px;\n  }\n"])),(function(e){return e.theme.mediaQueries.xs}),(function(e){return e.theme.mediaQueries.sm}));P.default.div(ec||(ec=Object(D.a)(["\n  > "," {\n    font-size: 12px;\n  }\n"])),F.ib),Object(P.default)(F.H)(tc||(tc=Object(D.a)(["\n  > div {\n    flex: 1;\n  }\n"]))),t.default=function(){var e=Object(B.h)(),t=Object(U.b)().t,n=!Object(F.wb)().isXl,c=Object(P.useTheme)(),a=Object(E.c)().account,r=function(e){var t=Object(W.a)().fastRefresh,n=Object(K.b)();Object(T.useEffect)((function(){e&&n(Object($.g)(e))}),[e,n,t]);var c=Object(q.c)((function(e){return{pools:e.pools.data,userDataLoaded:e.pools.userDataLoaded}})),a=c.pools,r=c.userDataLoaded;return{pools:a.map(J.b),userDataLoaded:r}}(a),i=r.pools,s=r.userDataLoaded,o=Object(Q.a)(!1,{localStorageKey:"pancake_pool_staked"}),l=Object(A.a)(o,2),b=l[0],j=l[1],d=Object(T.useState)(12),u=Object(A.a)(d,2),x=u[0],p=u[1],O=Object(T.useState)(!1),m=Object(A.a)(O,2),h=m[0],f=m[1],g=Object(T.useRef)(null),k=Object(Q.a)(w.TABLE,{localStorageKey:"pancake_pool_view"}),y=Object(A.a)(k,2),v=y[0],D=y[1],H=Object(T.useState)(""),z=Object(A.a)(H,2),L=z[0],R=z[1],N=Object(T.useState)("hot"),te=Object(A.a)(N,2),ie=te[0],se=te[1],oe=Object(T.useRef)(0),le=_(),be=le.userData,ue=be.cakeAtLastUserAction,xe=be.userShares,pe=le.fees.performanceFee,Oe=le.pricePerFullShare,me=le.totalCakeInVault,he=xe&&xe.gt(0),fe=pe&&pe/100,ge=Object(T.useMemo)((function(){var e=i.find((function(e){return 0===e.sousId}));return[Object(C.a)(Object(C.a)({},e),{},{isAutoVault:!0})].concat(Object(S.a)(i))}),[i]),ke=Object(T.useMemo)((function(){return V()(ge,(function(e){return e.isFinished}))}),[ge]),ye=Object(A.a)(ke,2),ve=ye[0],we=ye[1],Se=Object(T.useMemo)((function(){return ve.filter((function(e){return e.isAutoVault?he:e.userData&&new I.a(e.userData.stakedBalance).isGreaterThan(0)}))}),[ve,he]),Ce=Object(T.useMemo)((function(){return we.filter((function(e){return e.isAutoVault?he:e.userData&&new I.a(e.userData.stakedBalance).isGreaterThan(0)}))}),[we,he]);Se.length;Object(Z.e)(),function(){var e=Object(E.c)().account,t=Object(W.a)().fastRefresh,n=Object(K.b)();Object(T.useEffect)((function(){n(Object($.c)())}),[n,t]),Object(T.useEffect)((function(){n(Object($.d)({account:e}))}),[n,t,e]),Object(T.useEffect)((function(){n(Object($.b)())}),[n])}(),function(){var e=Object(K.b)(),t=Object(W.a)().slowRefresh;Object(T.useEffect)((function(){var t=function(){var t=Object(X.a)(Y.a.mark((function t(){var n;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.a.getBlockNumber();case 2:n=t.sent,e(Object($.e)(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),e(Object($.f)())}),[e,t])}(),Object(T.useEffect)((function(){h||(new IntersectionObserver((function(e){Object(A.a)(e,1)[0].isIntersecting&&p((function(e){return e<=oe.current?e+12:e}))}),{rootMargin:"0px",threshold:1}).observe(g.current),f(!0))}),[h]);var Ae,De=e.pathname.includes("history");if(Ae=De?b?Se:ve:b?Ce:we,L){var Te=Object(ee.a)(L.toLowerCase());Ae=Ae.filter((function(e){return Object(ee.a)(e.earningToken.symbol.toLowerCase()).includes(Te)}))}Ae=function(e){switch(ie){case"apr":return M()(e,(function(e){return e.apr?Object(je.c)(e,fe).apr:0}),"desc");case"earned":return M()(e,(function(e){return e.userData&&e.earningTokenPrice?e.isAutoVault?Object(je.d)(a,ue,xe,Oe,e.earningTokenPrice).autoUsdToDisplay:e.userData.pendingReward.times(e.earningTokenPrice).toNumber():0}),"desc");case"totalStaked":return M()(e,(function(e){return e.isAutoVault?me.toNumber():e.totalStaked.toNumber()}),"desc");default:return e}}(Ae).slice(0,x),oe.current=Ae.length,Ae=Ae.map((function(e){var t=e;return t.totalStaked=e.isAutoVault?me:e.totalStaked,t}));var He=Object(de.jsx)(wa,{children:Ae.map((function(e){return e.isAutoVault?Object(de.jsx)(Nt,{pool:e,showStakedOnly:b},"auto-cake"):Object(de.jsx)(vt,{pool:e,account:a},e.sousId)}))}),Be=Object(de.jsx)(ga,{pools:Ae,account:a,userDataLoaded:s});return Object(de.jsx)(de.Fragment,{children:Object(de.jsxs)(va,{children:[Object(de.jsx)("div",{style:{height:24}}),Object(de.jsx)(ce.a,{children:Object(de.jsxs)(F.H,{justifyContent:"space-between",flexDirection:"row",children:[Object(de.jsx)(F.H,{flexGrow:5,alignItems:"center",children:Object(de.jsxs)(Sa,{isMobile:n,children:[Object(de.jsx)("img",{src:re,alt:"Pool Logo",width:n?"50":"100",style:{padding:"".concat(n?"0px":"0 10px 10px 10px")}}),Object(de.jsx)(Aa,{children:Object(de.jsxs)(Ca,{children:[Object(de.jsx)(Da,{children:t("Sphynx Pools")}),Object(de.jsx)(Ta,{children:t("Just stake some tokens to earn.")}),Object(de.jsx)(Ta,{children:t("High APR, low risk.")})]})})]})}),Object(de.jsx)(F.H,{flexGrow:3,height:"fit-content",justifyContent:"center",alignItems:"center",children:Object(de.jsx)(fc,{})})]})}),Object(de.jsxs)(ne.a,{children:[Object(de.jsx)(jc,{stakedOnly:b,setStakedOnly:j,viewMode:v,setViewMode:D,setSortOption:se,setSearchQuery:R}),Object(de.jsxs)(ka.d,{selectedTabClassName:"is-selected",selectedTabPanelClassName:"is-selected",onSelect:function(t){return function(t){e.pathname=0===t?"/pools":"/pools/history"}(t)},children:[Object(de.jsxs)(ka.b,{children:[Object(de.jsx)(ka.a,{children:Object(de.jsx)(F.ib,{children:t("Live")})}),Object(de.jsx)(ka.a,{children:Object(de.jsx)(F.ib,{children:t("Finished")})})]}),Object(de.jsxs)(ya.d,{bgColor:c.isDark?"#0E0E26":"#2A2E60",borderRadius:"0 0 3px 3px",padding:"20px 10px",children:[Object(de.jsxs)(ka.c,{children:[a&&!s&&b&&Object(de.jsx)(F.H,{justifyContent:"center",mb:"4px",children:Object(de.jsx)(ae.a,{})}),v===w.CARD?He:Be,Object(de.jsx)("div",{ref:g})]}),Object(de.jsxs)(ka.c,{children:[De&&Object(de.jsx)(F.H,{justifyContent:"center",children:Object(de.jsx)(F.ib,{fontSize:"20px",color:"failure",pb:"32px",pt:"32px",children:t("These pools are no longer distributing rewards. Please unstake your tokens.")})}),a&&!s&&b&&Object(de.jsx)(F.H,{justifyContent:"center",mb:"4px",children:Object(de.jsx)(ae.a,{})}),v===w.CARD?He:Be,Object(de.jsx)("div",{ref:g})]})]})]})]})]})})}}}]);