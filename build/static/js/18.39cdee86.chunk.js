(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[18],{1724:function(e,t,n){"use strict";n.r(t);var c,a,s,r,i,o,l,b,j,d,u,x,p,O,m,h=n(13),f=n(14),g=n(0),k=n.n(g),y=n(75),v=n(6),w=n(27),S=n.n(w),C=n(89),D=n(4),T=n(1529),H=n.n(T),P=n(1530),B=n.n(P),F=n(32),A=n(467),I=n(2),L=n.n(I),z=n(17),V=n(25),M=n(144),U=n(145),E=n(414),R=n(436),N=n(614),Y=function(){var e=Object(V.c)((function(e){return e.pools.cakeVault})),t=e.totalShares,n=e.pricePerFullShare,c=e.totalCakeInVault,a=e.estimatedCakeBountyReward,s=e.totalPendingCakeHarvest,r=e.fees,i=r.performanceFee,o=r.callFee,l=r.withdrawalFee,b=r.withdrawalFeePeriod,j=e.userData,d=j.isLoading,u=j.userShares,x=j.cakeAtLastUserAction,p=j.lastDepositedTime,O=j.lastUserActionTime,m=Object(g.useMemo)((function(){return new S.a(a)}),[a]),h=Object(g.useMemo)((function(){return new S.a(s)}),[s]);return{totalShares:Object(g.useMemo)((function(){return new S.a(t)}),[t]),pricePerFullShare:Object(g.useMemo)((function(){return new S.a(n)}),[n]),totalCakeInVault:Object(g.useMemo)((function(){return new S.a(c)}),[c]),estimatedCakeBountyReward:m,totalPendingCakeHarvest:h,fees:{performanceFee:i,callFee:o,withdrawalFee:l,withdrawalFeePeriod:b},userData:{isLoading:d,userShares:Object(g.useMemo)((function(){return new S.a(u)}),[u]),cakeAtLastUserAction:Object(g.useMemo)((function(){return new S.a(x)}),[x]),lastDepositedTime:p,lastUserActionTime:O}}},X=n(434),Q=n(1454),W=n(1453),K=n(1398),q=n(1381),J=n(1519),G=n(462),_=n(1455),$=n(193),Z=n(45),ee=n(1362),te=n(1407),ne=n(435),ce=n(1),ae=function(e){var t=e.pool,n=e.performanceFee,c=void 0===n?0:n,a=Object(F.b)().t,s=t.stakingToken,r=t.earningToken,i=t.isFinished,o=t.apr,l=t.earningTokenPrice,b=t.isAutoVault,j=a(b?"APY includes compounding, APR doesn\u2019t. This pool\u2019s CAKE is compounded automatically, so we show APY.":"This pool\u2019s rewards aren\u2019t compounded automatically, so we show APR"),d=Object(D.Fb)(j,{placement:"bottom-start"}),u=d.targetRef,x=d.tooltip,p=d.tooltipVisible,O=Object(ne.c)(t,c),m=O.apr,f=O.roundingDecimals,g=O.compoundFrequency,k=Object(D.Db)(Object(ce.jsx)(te.a,{tokenPrice:l,apr:o,linkLabel:a("Get %symbol%",{symbol:s.symbol}),linkHref:"/swap",earningTokenSymbol:r.symbol,roundingDecimals:f,compoundFrequency:g,performanceFee:c})),y=Object(h.a)(k,1)[0];return Object(ce.jsxs)(D.H,{alignItems:"center",justifyContent:"space-between",children:[p&&x,Object(ce.jsx)(D.sb,{ref:u,children:"".concat(a(b?"APY":"APR"),":")}),i||!o?Object(ce.jsx)(D.ib,{width:"82px",height:"32px"}):Object(ce.jsxs)(D.H,{alignItems:"center",children:[Object(ce.jsx)(ee.a,{fontSize:"16px",isDisabled:i,value:m,decimals:2,unit:"%",bold:!0}),Object(ce.jsx)(D.M,{onClick:y,variant:"text",scale:"sm",children:Object(ce.jsx)(D.n,{color:"textSubtle",width:"18px"})})]})]})},se=Object(v.e)(D.o)(c||(c=Object(f.a)(["\n  max-width: 352px;\n  margin: 0 8px 24px;\n  display: flex;\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n  color: ",";\n\n  "," {\n    margin: 0 12px 46px;\n  }\n"])),(function(e){var t=e.isFinished;return e.theme.colors[t?"textDisabled":"secondary"]}),(function(e){return e.theme.mediaQueries.sm})),re=n(1388),ie=n(96),oe=n(118),le=n(451),be=n(30),je=n(294),de=n(43),ue=Object(v.e)(D.H)(a||(a=Object(f.a)(["\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n"]))),xe=function(e){var t,n=e.pool,c=e.account,a=Object(F.b)().t,s=Object(le.a)().currentBlock,r=Y(),i=r.totalCakeInVault,o=r.fees.performanceFee,l=n.stakingToken,b=n.earningToken,j=n.totalStaked,d=n.startBlock,u=n.endBlock,x=n.stakingLimit,p=n.contractAddress,O=n.sousId,m=n.isAutoVault,h=b.address?Object(be.a)(b.address):"",f=Object(be.a)(p),g=Object(be.g)(),k=!!(null===(t=window.ethereum)||void 0===t?void 0:t.isMetaMask),y=0===O,v=Object(ne.e)(n,s),w=v.shouldShowBlockCountdown,C=v.blocksUntilStart,T=v.blocksRemaining,H=v.hasPoolStarted,P=v.blocksToDisplay,B=Object(D.Fb)(a("Subtracted automatically from each yield harvest and burned."),{placement:"bottom-start"}),A=B.targetRef,I=B.tooltip,L=B.tooltipVisible,z=Object(D.Fb)(a("Total amount of %symbol% staked in this pool",{symbol:l.symbol}),{placement:"bottom"}),V=z.targetRef,M=z.tooltip,U=z.tooltipVisible;return Object(ce.jsxs)(ue,{flexDirection:"column",children:[Object(ce.jsxs)(D.H,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(ce.jsxs)(D.mb,{small:!0,children:[a("Total staked"),":"]}),Object(ce.jsxs)(D.H,{alignItems:"flex-start",children:[j&&j.gte(0)?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ee.a,{small:!0,value:function(){if(m)return Object(ie.c)(i,l.decimals);if(y){var e=new S.a(j).minus(i);return Object(ie.c)(e,l.decimals)}return Object(ie.c)(j,l.decimals)}(),decimals:0,unit:" ".concat(l.symbol)}),Object(ce.jsx)("span",{ref:V,children:Object(ce.jsx)(D.K,{color:"textSubtle",width:"20px",ml:"6px",mt:"4px"})})]}):Object(ce.jsx)(D.ib,{width:"90px",height:"21px"}),U&&M]})]}),x&&x.gt(0)&&Object(ce.jsxs)(D.H,{mb:"2px",justifyContent:"space-between",children:[Object(ce.jsxs)(D.mb,{small:!0,children:[a("Max. stake per user"),":"]}),Object(ce.jsx)(D.mb,{small:!0,children:"".concat(Object(ie.e)(x,l.decimals,0)," ").concat(l.symbol)})]}),w&&Object(ce.jsxs)(D.H,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(ce.jsxs)(D.mb,{small:!0,children:[a(H?"Ends in":"Starts in"),":"]}),T||C?Object(ce.jsx)(D.H,{alignItems:"center",children:Object(ce.jsxs)(D.P,{external:!0,href:Object(de.e)(H?u:d,"countdown"),children:[Object(ce.jsx)(ee.a,{small:!0,value:P,decimals:0,color:"primary"}),Object(ce.jsx)(D.mb,{small:!0,ml:"4px",color:"primary",textTransform:"lowercase",children:a("Blocks")}),Object(ce.jsx)(D.nb,{ml:"4px",color:"primary"})]})}):Object(ce.jsx)(D.ib,{width:"54px",height:"21px"})]}),m&&Object(ce.jsxs)(D.H,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[L&&I,Object(ce.jsx)(D.sb,{ref:A,small:!0,children:a("Performance Fee")}),Object(ce.jsx)(D.H,{alignItems:"center",children:Object(ce.jsxs)(D.mb,{ml:"4px",small:!0,children:[o/100,"%"]})})]}),Object(ce.jsx)(D.H,{mb:"2px",justifyContent:"flex-end",children:Object(ce.jsx)(D.Q,{href:"https://pancakeswap.info/token/".concat(Object(be.a)(b.address)),bold:!1,small:!0,children:a("See Token Info")})}),Object(ce.jsx)(D.H,{mb:"2px",justifyContent:"flex-end",children:Object(ce.jsx)(D.Q,{href:b.projectLink,bold:!1,small:!0,children:a("View Project Site")})}),f&&Object(ce.jsx)(D.H,{mb:"2px",justifyContent:"flex-end",children:Object(ce.jsx)(D.Q,{href:"".concat(oe.a,"/address/").concat(m?g:f),bold:!1,small:!0,children:a("View Contract")})}),c&&k&&h&&Object(ce.jsx)(D.H,{justifyContent:"flex-end",children:Object(ce.jsxs)(D.k,{variant:"text",p:"0",height:"auto",onClick:function(){return Object(je.a)(h,b.symbol,b.decimals)},children:[Object(ce.jsx)(D.mb,{color:"primary",fontSize:"14px",children:a("Add to Metamask")}),Object(ce.jsx)(D.U,{ml:"4px"})]})})]})},pe=k.a.memo(xe),Oe=Object(v.e)(D.H)(s||(s=Object(f.a)(["\n  align-items: center;\n  justify-content: space-between;\n  button {\n    padding: 0;\n  }\n"]))),me=Object(v.e)(D.q)(r||(r=Object(f.a)(["\n  background-color: ",";\n"])),(function(e){return e.theme.colors.input})),he=function(e){var t=e.pool,n=e.account,c=t.isAutoVault,a=Object(F.b)().t,s=Object(g.useState)(!1),r=Object(h.a)(s,2),i=r[0],o=r[1],l=a("You must harvest and compound your earnings from this pool manually."),b=a("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),j=Object(D.Fb)(c?b:l,{placement:"bottom"}),d=j.targetRef,u=j.tooltip,x=j.tooltipVisible;return Object(ce.jsxs)(me,{children:[Object(ce.jsxs)(Oe,{children:[Object(ce.jsxs)(D.H,{alignItems:"center",children:[c?Object(ce.jsx)(re.b,{}):Object(ce.jsx)(re.e,{}),x&&u,Object(ce.jsx)(D.H,{ref:d,children:Object(ce.jsx)(D.K,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]}),Object(ce.jsx)(D.F,{expanded:i,onClick:function(){o(!i)},children:a(i?"Hide":"Details")})]}),i&&Object(ce.jsx)(pe,{pool:t,account:n})]})},fe=n(1389),ge=n(9),ke=n(36),ye=function(e){var t="/images/tokens/".concat(Object(be.a)(ke.k.sphynx.address),".svg");return Object(ce.jsx)(D.rb,Object(ge.a)({primarySrc:t,secondarySrc:"/images/tokens/autorenew.svg"},e))},ve=Object(v.e)(D.r)(i||(i=Object(f.a)(["\n  background: ",";\n  border-radius: ",";\n"])),(function(e){var t=e.isFinished,n=e.background,c=e.theme;return t?c.colors.backgroundDisabled:c.colors.gradients[n]}),(function(e){var t=e.theme;return"".concat(t.radii.card," ").concat(t.radii.card," 0 0")})),we=function(e){var t=e.earningToken,n=e.stakingToken,c=e.isFinished,a=void 0!==c&&c,s=e.isAutoVault,r=void 0!==s&&s,i=e.isStaking,o=void 0!==i&&i,l=Object(F.b)().t,b="SPHYNX"===t.symbol&&"SPHYNX"===n.symbol,j=o?"bubblegum":"cardHeader";return Object(ce.jsx)(ve,{isFinished:a,background:j,children:Object(ce.jsxs)(D.H,{alignItems:"center",justifyContent:"space-between",children:[Object(ce.jsxs)(D.H,{flexDirection:"column",children:[Object(ce.jsx)(D.J,{color:a?"textDisabled":"body",scale:"lg",children:"".concat(l(r?"Auto":b?"Manual":"Earn")," ").concat(t.symbol)}),Object(ce.jsx)(D.mb,{color:a?"textDisabled":"textSubtle",children:r?l("Automatic restaking"):b?l("Earn SPHYNX, stake SPHYNX"):l("Stake %symbol%",{symbol:n.symbol})})]}),r?Object(ce.jsx)(ye,{width:64,height:64}):Object(ce.jsx)(fe.a,{primaryToken:t,secondaryToken:n,width:64,height:64})]})})},Se=n(63),Ce=n(64),De=n(80),Te=(n(176),n(270),n(295),n(192)),He=n(643),Pe=function(){var e=Object(g.useState)(Date.now()),t=Object(h.a)(e,2),n=t[0],c=t[1];return{lastUpdated:n,previousLastUpdated:Object(He.a)(n),setLastUpdated:Object(g.useCallback)((function(){c(Date.now())}),[c])}},Be=function(e,t,n){var c=Object(g.useState)(!1),a=Object(h.a)(c,2),s=a[0],r=a[1],i=Object(Te.a)(),o=i.toastSuccess,l=i.toastError,b=Object(F.b)().t,j=Object(M.b)(),d=Object(C.c)().account,u=Object(Ce.k)(t);return{handleApprove:Object(g.useCallback)(Object(z.a)(L.a.mark((function c(){var a,s;return L.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r(!0),c.next=4,e.approve(u.address,De.a.constants.MaxUint256);case 4:return a=c.sent,c.next=7,a.wait();case 7:s=c.sent,j(Object(R.h)(t,d)),s.status?(o(b("Contract Enabled"),b("You can now stake in the %symbol% pool!",{symbol:n})),r(!1)):(l(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!")),r(!1)),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(0),console.error(c.t0),l(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 16:case"end":return c.stop()}}),c,null,[[0,12]])}))),[d,j,e,u,t,n,b,l,o]),requestedApproval:s}},Fe=function(e){var t=Object(g.useState)(!1),n=Object(h.a)(t,2),c=n[0],a=n[1],s=Object(F.b)().t,r=Object(Te.a)(),i=r.toastSuccess,o=r.toastError,l=Object(Ce.c)(),b=Object(Ce.b)(),j=function(){var t=Object(z.a)(L.a.mark((function t(){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.approve(l.address,De.a.constants.MaxUint256);case 2:return n=t.sent,a(!0),t.next=6,n.wait();case 6:t.sent.status?(i(s("Contract Enabled"),s("You can now stake in the %symbol% vault!",{symbol:"CAKE"})),e(),a(!1)):(o(s("Error"),s("Please try again. Confirm the transaction and make sure you are paying enough gas!")),a(!1));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{handleApprove:j,requestedApproval:c}},Ae=function(){var e=Object(g.useState)(!1),t=Object(h.a)(e,2),n=t[0],c=t[1],a=Object(C.c)().account,s=Object(Ce.b)(),r=Object(Ce.c)(),i=Pe(),o=i.lastUpdated,l=i.setLastUpdated;return Object(g.useEffect)((function(){var e=function(){var e=Object(z.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.allowance(a,r.address);case 3:t=e.sent,n=new S.a(t.toString()),c(n.gt(0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[a,s,r,o]),{isVaultApproved:n,setLastUpdated:l}},Ie=function(e){var t=e.pool,n=e.isLoading,c=void 0!==n&&n,a=t.sousId,s=t.stakingToken,r=t.earningToken,i=Object(F.b)().t,o=Object(Ce.f)(s.address?Object(be.a)(s.address):""),l=Be(o,a,r.symbol),b=l.handleApprove,j=l.requestedApproval;return Object(ce.jsx)(ce.Fragment,{children:c?Object(ce.jsx)(D.ib,{width:"100%",height:"52px"}):Object(ce.jsx)(D.k,{isLoading:j,endIcon:j?Object(ce.jsx)(D.f,{spin:!0,color:"currentColor"}):null,disabled:j,onClick:b,width:"100%",children:i("Enable")})})},Le=n(439),ze=Object(v.e)(D.P)(o||(o=Object(f.a)(["\n  width: 100%;\n"]))),Ve=function(e){var t=e.tokenSymbol,n=e.onDismiss,c=Object(F.b)().t,a=Object(Le.a)().theme;return Object(ce.jsxs)(D.W,{title:c("%symbol% required",{symbol:t}),onDismiss:n,headerBackground:a.colors.gradients.cardHeader,children:[Object(ce.jsx)(D.mb,{color:"failure",bold:!0,children:c("Insufficient %symbol% balance",{symbol:t})}),Object(ce.jsx)(D.mb,{mt:"24px",children:c("You\u2019ll need %symbol% to stake in this pool!",{symbol:t})}),Object(ce.jsx)(D.mb,{children:c("Buy some %symbol%, or make sure your %symbol% isn\u2019t in another pool or LP.",{symbol:t})}),Object(ce.jsxs)(D.k,{mt:"24px",as:"a",external:!0,href:"#/swap",children:[c("Buy")," ",t]}),Object(ce.jsx)(ze,{href:"https://yieldwatch.net",external:!0,children:Object(ce.jsxs)(D.k,{variant:"secondary",mt:"8px",width:"100%",children:[c("Locate Assets"),Object(ce.jsx)(D.fb,{color:"primary",ml:"4px"})]})}),Object(ce.jsx)(D.k,{variant:"text",onClick:n,children:c("Close Window")})]})},Me=Object(v.e)(D.k)(l||(l=Object(f.a)(["\n  flex-grow: 1;\n"]))),Ue=function(e){var t=e.children,n=e.onClick;return Object(ce.jsx)(Me,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:n,children:t})},Ee=n(1380),Re={gasLimit:oe.g},Ne=function(){var e=Object(z.a)(L.a.mark((function e(t,n){var c,a,s,r=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.length>2&&void 0!==r[2]?r[2]:18,e.next=3,t.deposit(new S.a(n).times(Z.b.pow(c)).toString(),Re);case 3:return a=e.sent,e.next=6,a.wait();case 6:return s=e.sent,e.abrupt("return",s.status);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(z.a)(L.a.mark((function e(t,n){var c,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deposit(new S.a(n).times(oe.h).toString(),Re);case 2:return c=e.sent,e.next=5,c.wait();case 5:return a=e.sent,e.abrupt("return",a.status);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(M.b)(),c=Object(C.c)(),a=c.account,s=Object(Ce.g)(),r=Object(Ce.k)(e),i=Object(g.useCallback)(function(){var c=Object(z.a)(L.a.mark((function c(i,o){return L.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(Ee.b)(s,0,i);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,Ye(r,i);case 8:c.next=12;break;case 10:return c.next=12,Ne(r,i,o);case 12:n(Object(R.k)(e,a)),n(Object(R.i)(e,a));case 14:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}(),[a,n,t,s,r,e]);return{onStake:i}},Qe=function(){var e=Object(z.a)(L.a.mark((function e(t,n,c){var a,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.withdraw(new S.a(n).times(Z.b.pow(c)).toString());case 2:return a=e.sent,e.next=5,a.wait();case 5:return s=e.sent,e.abrupt("return",s.status);case 7:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),We=function(){var e=Object(z.a)(L.a.mark((function e(t){var n,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.emergencyWithdraw();case 2:return n=e.sent,e.next=5,n.wait();case 5:return c=e.sent,e.abrupt("return",c.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(M.b)(),c=Object(C.c)(),a=c.account,s=Object(Ce.g)(),r=Object(Ce.k)(e),i=Object(g.useCallback)(function(){var c=Object(z.a)(L.a.mark((function c(i,o){return L.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(Ee.c)(s,0,i);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,We(r);case 8:c.next=12;break;case 10:return c.next=12,Qe(r,i,o);case 12:n(Object(R.k)(e,a)),n(Object(R.i)(e,a)),n(Object(R.j)(e,a));case 15:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}(),[a,n,t,s,r,e]);return{onUnstake:i}},qe=Object(v.e)(D.P)(b||(b=Object(f.a)(["\n  width: 100%;\n"]))),Je=function(e){var t=e.isBnbPool,n=e.pool,c=e.stakingTokenBalance,a=e.stakingTokenPrice,s=e.isRemovingStake,r=void 0!==s&&s,i=e.onDismiss,o=n.sousId,l=n.stakingToken,b=n.userData,j=n.stakingLimit,d=n.earningToken,u=Object(F.b)().t,x=Object(Le.a)().theme,p=Xe(o,t).onStake,O=Ke(o,n.enableEmergencyWithdraw).onUnstake,m=Object(Te.a)(),f=m.toastSuccess,k=m.toastError,y=Object(g.useState)(!1),v=Object(h.a)(y,2),w=v[0],C=v[1],T=Object(g.useState)(""),H=Object(h.a)(T,2),P=H[0],B=H[1],A=Object(g.useState)(!1),I=Object(h.a)(A,2),V=I[0],M=I[1],U=Object(g.useState)(0),E=Object(h.a)(U,2),R=E[0],N=E[1],Y=function(){return r?b.stakedBalance:j.gt(0)&&c.gt(j)?j:c},X=P&&Object(ie.a)(new S.a(P).times(a).toNumber());Object(g.useEffect)((function(){if(j.gt(0)&&!r){var e=Object(ie.d)(new S.a(P),l.decimals);M(e.plus(b.stakedBalance).gt(j))}}),[P,j,b,l,r,M]);var Q=function(e){if(e>0){var t=Y().dividedBy(100).multipliedBy(e),n=Object(ie.e)(t,l.decimals,l.decimals);B(n)}else B("");N(e)},W=function(){var e=Object(z.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),!r){e.next=16;break}return e.prev=2,e.next=5,O(P,l.decimals);case 5:f("".concat(u("Unstaked"),"!"),u("Your %symbol% earnings have also been harvested to your wallet!",{symbol:d.symbol})),C(!1),i(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),k(u("Error"),u("Please try again. Confirm the transaction and make sure you are paying enough gas!")),C(!1);case 14:e.next=28;break;case 16:return e.prev=16,e.next=19,p(P,l.decimals);case 19:f("".concat(u("Staked"),"!"),u("Your %symbol% funds have been staked in the pool!",{symbol:l.symbol})),C(!1),i(),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(16),k(u("Error"),u("Please try again. Confirm the transaction and make sure you are paying enough gas!")),C(!1);case 28:case"end":return e.stop()}}),e,null,[[2,10],[16,24]])})));return function(){return e.apply(this,arguments)}}();return Object(ce.jsxs)(D.W,{title:u(r?"Unstake":"Stake in Pool"),onDismiss:i,headerBackground:x.colors.gradients.cardHeader,children:[j.gt(0)&&!r&&Object(ce.jsx)(D.mb,{color:"secondary",bold:!0,mb:"24px",style:{textAlign:"center"},fontSize:"16px",children:u("Max stake for this pool: %amount% %token%",{amount:Object(ie.e)(j,l.decimals,0),token:l.symbol})}),Object(ce.jsxs)(D.H,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(ce.jsxs)(D.mb,{bold:!0,children:[u(r?"Unstake":"Stake"),":"]}),Object(ce.jsxs)(D.H,{alignItems:"center",minWidth:"70px",children:[Object(ce.jsx)(D.N,{src:"/images/tokens/".concat(Object(be.a)(l.address),".png"),width:24,height:24,alt:l.symbol}),Object(ce.jsx)(D.mb,{ml:"4px",bold:!0,children:l.symbol})]})]}),Object(ce.jsx)(D.g,{value:P,onUserInput:function(e){if(e){var t=Object(ie.d)(new S.a(e),l.decimals),n=Math.floor(t.dividedBy(Y()).multipliedBy(100).toNumber());N(Math.min(n,100))}else N(0);B(e)},currencyValue:0!==a&&"~".concat(X||0," USD"),isWarning:V,decimals:l.decimals}),V&&Object(ce.jsx)(D.mb,{color:"failure",fontSize:"12px",style:{textAlign:"right"},mt:"4px",children:u("Maximum total stake: %amount% %token%",{amount:Object(ie.e)(new S.a(j),l.decimals,0),token:l.symbol})}),Object(ce.jsx)(D.mb,{ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:u("Balance: %balance%",{balance:Object(ie.e)(Y(),l.decimals)})}),Object(ce.jsx)(D.jb,{min:0,max:100,value:R,onValueChanged:Q,name:"stake",valueLabel:"".concat(R,"%"),step:1}),Object(ce.jsxs)(D.H,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object(ce.jsx)(Ue,{onClick:function(){return Q(25)},children:"25%"}),Object(ce.jsx)(Ue,{onClick:function(){return Q(50)},children:"50%"}),Object(ce.jsx)(Ue,{onClick:function(){return Q(75)},children:"75%"}),Object(ce.jsx)(Ue,{onClick:function(){return Q(100)},children:u("Max")})]}),Object(ce.jsx)(D.k,{isLoading:w,endIcon:w?Object(ce.jsx)(D.f,{spin:!0,color:"currentColor"}):null,onClick:W,disabled:!P||0===parseFloat(P)||V,mt:"24px",children:u(w?"Confirming":"Confirm")}),!r&&Object(ce.jsx)(qe,{external:!0,href:"#/swap",children:Object(ce.jsx)(D.k,{width:"100%",mt:"8px",variant:"secondary",children:u("Get %symbol%",{symbol:l.symbol})})})]})},Ge=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.stakedBalance,a=e.isBnbPool,s=e.isStaked,r=e.isLoading,i=void 0!==r&&r,o=t.stakingToken,l=t.stakingTokenPrice,b=t.stakingLimit,j=t.isFinished,d=t.userData,u=Object(F.b)().t,x=Object(ie.c)(c,o.decimals),p=Object(ie.c)(c.multipliedBy(l),o.decimals),O=Object(D.Db)(Object(ce.jsx)(Ve,{tokenSymbol:o.symbol})),m=Object(h.a)(O,1)[0],f=Object(D.Db)(Object(ce.jsx)(Je,{isBnbPool:a,pool:t,stakingTokenBalance:n,stakingTokenPrice:l})),g=Object(h.a)(f,1)[0],k=Object(D.Db)(Object(ce.jsx)(Je,{stakingTokenBalance:n,isBnbPool:a,pool:t,stakingTokenPrice:l,isRemovingStake:!0})),y=Object(h.a)(k,1)[0],v=Object(D.Fb)(u("You\u2019ve already staked the maximum amount you can stake in this pool!"),{placement:"bottom"}),w=v.targetRef,S=v.tooltip,C=v.tooltipVisible,T=b.gt(0)&&d.stakedBalance.gte(b);return Object(ce.jsx)(D.H,{flexDirection:"column",children:i?Object(ce.jsx)(D.ib,{width:"100%",height:"52px"}):s?Object(ce.jsxs)(D.H,{justifyContent:"space-between",alignItems:"center",children:[Object(ce.jsx)(D.H,{flexDirection:"column",children:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ee.a,{bold:!0,fontSize:"20px",decimals:3,value:x}),0!==l&&Object(ce.jsx)(D.mb,{fontSize:"12px",color:"textSubtle",children:Object(ce.jsx)(ee.a,{fontSize:"12px",color:"textSubtle",decimals:2,value:p,prefix:"~",unit:" USD"})})]})}),Object(ce.jsxs)(D.H,{children:[Object(ce.jsx)(D.M,{variant:"secondary",onClick:y,mr:"6px",children:Object(ce.jsx)(D.V,{color:"primary",width:"24px"})}),T?Object(ce.jsx)("span",{ref:w,children:Object(ce.jsx)(D.M,{variant:"secondary",disabled:!0,children:Object(ce.jsx)(D.a,{color:"textDisabled",width:"24px",height:"24px"})})}):Object(ce.jsx)(D.M,{variant:"secondary",onClick:n.gt(0)?g:m,disabled:j,children:Object(ce.jsx)(D.a,{color:"primary",width:"24px",height:"24px"})})]}),C&&S]}):Object(ce.jsx)(D.k,{disabled:j,onClick:n.gt(0)?g:m,children:u("Stake")})})},_e={gasLimit:oe.g},$e=function(){var e=Object(z.a)(L.a.mark((function e(t){var n,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deposit("0",_e);case 2:return n=e.sent,e.next=5,n.wait();case 5:return c=e.sent,e.abrupt("return",c.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(z.a)(L.a.mark((function e(t){var n,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deposit(Object(ge.a)(Object(ge.a)({},_e),{},{value:Z.c}));case 2:return n=e.sent,e.next=5,n.wait();case 5:return c=e.sent,e.abrupt("return",c.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(M.b)(),c=Object(C.c)(),a=c.account,s=Object(Ce.k)(e),r=Object(Ce.g)(),i=Object(g.useCallback)(Object(z.a)(L.a.mark((function c(){return L.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(Ee.a)(r,0);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,Ze(s);case 8:c.next=12;break;case 10:return c.next=12,$e(s);case 12:n(Object(R.j)(e,a)),n(Object(R.i)(e,a));case 14:case"end":return c.stop()}}),c)}))),[a,n,t,r,s,e]);return{onReward:i}},tt=function(e){var t=e.formattedBalance,n=e.fullBalance,c=e.earningToken,a=e.earningsDollarValue,s=e.sousId,r=e.isBnbPool,i=e.isCompoundPool,o=void 0!==i&&i,l=e.onDismiss,b=Object(F.b)().t,j=Object(Le.a)().theme,d=Object(Te.a)(),u=d.toastSuccess,x=d.toastError,p=et(s,r).onReward,O=Xe(s,r).onStake,m=Object(g.useState)(!1),f=Object(h.a)(m,2),k=f[0],y=f[1],v=Object(g.useState)(o),w=Object(h.a)(v,2),S=w[0],C=w[1],T=Object(D.Fb)(Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(D.mb,{mb:"12px",children:b("Compound: collect and restake CAKE into pool.")}),Object(ce.jsx)(D.mb,{children:b("Harvest: collect CAKE and send to wallet")})]}),{placement:"bottom-end",tooltipOffset:[20,10]}),H=T.targetRef,P=T.tooltip,B=T.tooltipVisible,A=function(){var e=Object(z.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),!S){e.next=17;break}return e.prev=2,e.next=5,O(n,c.decimals);case 5:u("".concat(b("Compounded"),"!"),b("Your %symbol% earnings have been re-invested into the pool!",{symbol:c.symbol})),y(!1),l(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),x(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0),y(!1);case 15:e.next=30;break;case 17:return e.prev=17,e.next=20,p();case 20:u("".concat(b("Harvested"),"!"),b("Your %symbol% earnings have been sent to your wallet!",{symbol:c.symbol})),y(!1),l(),e.next=30;break;case 25:e.prev=25,e.t1=e.catch(17),x(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t1),y(!1);case 30:case"end":return e.stop()}}),e,null,[[2,10],[17,25]])})));return function(){return e.apply(this,arguments)}}();return Object(ce.jsxs)(D.W,{title:"".concat(c.symbol," ").concat(b(o?"Collect":"Harvest")),onDismiss:l,headerBackground:j.colors.gradients.cardHeader,children:[o&&Object(ce.jsxs)(D.H,{justifyContent:"center",alignItems:"center",mb:"24px",children:[Object(ce.jsxs)(D.l,{activeIndex:S?0:1,scale:"sm",variant:"subtle",onItemClick:function(e){return C(!e)},children:[Object(ce.jsx)(D.m,{as:"button",children:b("Compound")}),Object(ce.jsx)(D.m,{as:"button",children:b("Harvest")})]}),Object(ce.jsx)(D.H,{ml:"10px",ref:H,children:Object(ce.jsx)(D.K,{color:"textSubtle"})}),B&&P]}),Object(ce.jsxs)(D.H,{justifyContent:"space-between",alignItems:"center",mb:"24px",children:[Object(ce.jsxs)(D.mb,{children:[b(S?"Compounding":"Harvesting"),":"]}),Object(ce.jsxs)(D.H,{flexDirection:"column",children:[Object(ce.jsxs)(D.J,{children:[t," ",c.symbol]}),a>0&&Object(ce.jsx)(D.mb,{fontSize:"12px",color:"textSubtle",children:"~".concat(Object(ie.a)(a)," USD")})]})]}),Object(ce.jsx)(D.k,{mt:"8px",onClick:A,isLoading:k,endIcon:k?Object(ce.jsx)(D.f,{spin:!0,color:"currentColor"}):null,children:b(k?"Confirming":"Confirm")}),Object(ce.jsx)(D.k,{variant:"text",onClick:l,pb:"0px",children:b("Close Window")})]})},nt=function(e){var t=e.earnings,n=e.earningToken,c=e.sousId,a=e.isBnbPool,s=e.earningTokenPrice,r=e.isLoading,i=void 0!==r&&r,o=Object(F.b)().t,l=Object(ie.c)(t,n.decimals),b=Object(ie.a)(l,3,3),j=Object(ie.c)(t.multipliedBy(s),n.decimals),d=Object(ie.e)(t,n.decimals),u=t.toNumber()>0,x=0===c,p=Object(D.Db)(Object(ce.jsx)(tt,{formattedBalance:b,fullBalance:d,earningToken:n,earningsDollarValue:j,sousId:c,isBnbPool:a,isCompoundPool:x})),O=Object(h.a)(p,1)[0];return Object(ce.jsxs)(D.H,{justifyContent:"space-between",alignItems:"center",mb:"16px",children:[Object(ce.jsx)(D.H,{flexDirection:"column",children:i?Object(ce.jsx)(D.ib,{width:"80px",height:"48px"}):Object(ce.jsx)(ce.Fragment,{children:u?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ee.a,{bold:!0,fontSize:"20px",decimals:5,value:l}),s>0&&Object(ce.jsx)(ee.a,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:j,unit:" USD"})]}):Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(D.J,{color:"textDisabled",children:"0"}),Object(ce.jsx)(D.mb,{fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})}),Object(ce.jsx)(D.k,{disabled:!u,onClick:O,children:o(x?"Collect":"Harvest")})]})},ct=Object(v.e)(D.mb)(j||(j=Object(f.a)(["\n  display: inline;\n"]))),at=function(e){var t=e.pool,n=e.stakedBalance,c=t.sousId,a=t.stakingToken,s=t.earningToken,r=t.harvest,i=t.poolCategory,o=t.userData,l=t.earningTokenPrice,b=i===Se.b.BINANCE,j=Object(F.b)().t,d=(null===o||void 0===o?void 0:o.allowance)?new S.a(o.allowance):Z.c,u=(null===o||void 0===o?void 0:o.stakingTokenBalance)?new S.a(o.stakingTokenBalance):Z.c,x=(null===o||void 0===o?void 0:o.pendingReward)?new S.a(o.pendingReward):Z.c,p=!d.gt(0)&&!b,O=n.gt(0),m=!o;return Object(ce.jsx)(D.H,{flexDirection:"column",children:Object(ce.jsxs)(D.H,{flexDirection:"column",children:[r&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(D.j,{display:"inline",children:[Object(ce.jsx)(ct,{color:"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:"".concat(s.symbol," ")}),Object(ce.jsx)(ct,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:j("Earned")})]}),Object(ce.jsx)(nt,{earnings:x,earningToken:s,sousId:c,earningTokenPrice:l,isBnbPool:b,isLoading:m})]}),Object(ce.jsxs)(D.j,{display:"inline",children:[Object(ce.jsxs)(ct,{color:O?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[O?a.symbol:j("Stake")," "]}),Object(ce.jsx)(ct,{color:O?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:O?j("Staked"):"".concat(a.symbol)})]}),p?Object(ce.jsx)(Ie,{pool:t,isLoading:m}):Object(ce.jsx)(Ge,{isLoading:m,pool:t,stakingTokenBalance:u,stakedBalance:n,isBnbPool:b,isStaked:O})]})})},st=Object(v.e)(D.p)(d||(d=Object(f.a)(["\n  background-color: ",";\n"])),(function(e){return e.theme.colors.input})),rt=function(e){var t=e.pool,n=e.account,c=t.sousId,a=t.stakingToken,s=t.earningToken,r=t.isFinished,i=t.userData,o=Object(F.b)().t,l=(null===i||void 0===i?void 0:i.stakedBalance)?new S.a(i.stakedBalance):Z.c,b=l.gt(0);return Object(ce.jsxs)(se,{isFinished:r&&0!==c,ribbon:r&&Object(ce.jsx)(D.s,{variantColor:"textDisabled",text:o("Finished")}),children:[Object(ce.jsx)(we,{isStaking:b,earningToken:s,stakingToken:a,isFinished:r&&0!==c}),Object(ce.jsxs)(st,{children:[Object(ce.jsx)(ae,{pool:t}),Object(ce.jsx)(D.H,{mt:"24px",flexDirection:"column",children:n?Object(ce.jsx)(at,{pool:t,stakedBalance:l}):Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(D.mb,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:o("Start earning")}),Object(ce.jsx)($.a,{})]})})]}),Object(ce.jsx)(he,{pool:t,account:n})]})},it=function(e){var t=e.isLoading,n=void 0!==t&&t,c=e.setLastUpdated,a=Object(F.b)().t,s=Fe(c),r=s.handleApprove,i=s.requestedApproval;return Object(ce.jsx)(ce.Fragment,{children:n?Object(ce.jsx)(D.ib,{width:"100%",height:"52px"}):Object(ce.jsx)(D.k,{isLoading:i,endIcon:i?Object(ce.jsx)(D.f,{spin:!0,color:"currentColor"}):null,disabled:i,onClick:r,width:"100%",children:a("Enable")})})},ot=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:259200,c=Object(g.useState)(null),a=Object(h.a)(c,2),s=a[0],r=a[1],i=Object(g.useState)(!1),o=Object(h.a)(i,2),l=o[0],b=o[1],j=Object(g.useState)(Math.floor(Date.now()/1e3)),d=Object(h.a)(j,2),u=d[0],x=d[1];return Object(g.useEffect)((function(){var c=e+n-u,a=t.gt(0)&&c>0,s=setInterval((function(){x((function(e){return e+1}))}),1e3);return a?(r(c),b(!0)):(b(!1),clearInterval(s)),function(){return clearInterval(s)}}),[e,n,r,u,t]),{hasUnstakingFee:l,secondsRemaining:s}},lt=3600,bt=86400,jt=2629800,dt=31557600,ut=function(e){var t=Math.abs(e),n={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return t>=dt&&(n.years=Math.floor(t/dt),t-=n.years*dt),t>=jt&&(n.months=Math.floor(t/jt),t-=n.months*jt),t>=bt&&(n.days=Math.floor(t/bt),t-=n.days*bt),t>=lt&&(n.hours=Math.floor(t/lt),t-=n.hours*lt),t>=60&&(n.minutes=Math.floor(t/60),t-=60*n.minutes),n.seconds=t,n},xt=function(e){var t=e.secondsRemaining,n=Object(F.b)().t,c=ut(t),a=c.days,s=c.hours,r=c.minutes;return Object(ce.jsx)(D.mb,{fontSize:"14px",children:n("%day%d : %hour%h : %minute%m",{day:a,hour:s,minute:r})})},pt=function(e){var t=e.isTableVariant,n=Object(F.b)().t,c=Object(C.c)().account,a=Y(),s=a.userData,r=s.lastDepositedTime,i=s.userShares,o=a.fees,l=o.withdrawalFee,b=o.withdrawalFeePeriod,j=l/100||"-",d=Object(D.Fb)(Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(D.mb,{bold:!0,mb:"4px",children:n("Unstaking fee: %fee%%",{fee:j})}),Object(ce.jsx)(D.mb,{children:n("Only applies within 3 days of staking. Unstaking after 3 days will not include a fee. Timer resets every time you stake new SPHYNX in the pool.")})]}),{placement:"bottom-start"}),u=d.targetRef,x=d.tooltip,p=d.tooltipVisible,O=ot(parseInt(r,10),i,b),m=O.secondsRemaining,h=O.hasUnstakingFee,f=r&&!h&&i.gt(0),g=c&&r&&h;return Object(ce.jsxs)(D.H,{alignItems:t?"flex-start":"center",justifyContent:"space-between",flexDirection:t?"column":"row",children:[p&&x,Object(ce.jsxs)(D.sb,{ref:u,small:!0,children:[f?"0":j,"% ",f?n("Unstaking Fee").toLowerCase():n(g?"unstaking fee until":"unstaking fee if withdrawn within 72h")]}),g&&Object(ce.jsx)(xt,{secondsRemaining:m})]})},Ot=function(e){var t=e.stakingTokenSymbol,n=e.stakeAmount,c=Object(F.b)().t,a=Y().fees.withdrawalFee/100,s=(parseFloat(n)*(a/100)).toFixed(4),r=Object(D.Fb)(Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(D.mb,{bold:!0,mb:"4px",children:c("Unstaking fee: %fee%%",{fee:a})}),Object(ce.jsx)(D.mb,{children:c("Only applies within 3 days of staking. Unstaking after 3 days will not include a fee. Timer resets every time you stake new SPHYNX in the pool.")})]}),{placement:"top-start"}),i=r.targetRef,o=r.tooltip,l=r.tooltipVisible;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(D.H,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[l&&o,Object(ce.jsx)(D.sb,{ref:i,small:!0,children:c("Unstaking Fee")}),Object(ce.jsxs)(D.mb,{fontSize:"14px",children:[n?s:"-"," ",t]})]}),Object(ce.jsx)(pt,{})]})},mt=Object(v.e)(D.k)(u||(u=Object(f.a)(["\n  flex-grow: 1;\n"]))),ht={gasLimit:38e4},ft=function(e){var t=e.pool,n=e.stakingMax,c=e.isRemovingStake,a=void 0!==c&&c,s=e.onDismiss,r=Object(M.b)(),i=t.stakingToken,o=Object(C.c)().account,l=Object(Ce.c)(),b=Y(),j=b.userData,d=j.lastDepositedTime,u=j.userShares,x=b.pricePerFullShare,p=Object(F.b)().t,O=Object(Le.a)().theme,m=Object(Te.a)(),f=m.toastSuccess,k=m.toastError,y=Object(g.useState)(!1),v=Object(h.a)(y,2),w=v[0],T=v[1],H=Object(g.useState)(""),P=Object(h.a)(H,2),B=P[0],A=P[1],I=Object(g.useState)(0),V=Object(h.a)(I,2),U=V[0],E=V[1],N=ot(parseInt(d,10),u).hasUnstakingFee,Q=Object(X.f)(),W=Q.gt(0)&&B?Object(ie.a)(new S.a(B).times(Q).toNumber()):"",K=function(e){if(e>0){var t=n.dividedBy(100).multipliedBy(e),c=Object(ie.e)(t,i.decimals,i.decimals);A(c)}else A("");E(e)},q=function(){var e=Object(z.a)(L.a.mark((function e(t){var n,c,a,i,b;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),n=Object(ne.a)(t,x),c=new S.a(1e12),a=u.minus(n.sharesAsBigNumber),!a.lte(c)){e.next=22;break}return e.prev=6,e.next=9,l.withdrawAll(ht);case 9:return i=e.sent,e.next=12,i.wait();case 12:e.sent.status&&(f(p("Unstaked!"),p("Your earnings have also been harvested to your wallet")),T(!1),s(),r(Object(R.d)({account:o}))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),k(p("Error"),p("Please try again. Confirm the transaction and make sure you are paying enough gas!")),T(!1);case 20:e.next=36;break;case 22:return e.prev=22,e.next=25,l.withdraw(n.sharesAsBigNumber.toString(),ht);case 25:return b=e.sent,e.next=28,b.wait();case 28:e.sent.status&&(f(p("Unstaked!"),p("Your earnings have also been harvested to your wallet")),T(!1),s(),r(Object(R.d)({account:o}))),e.next=36;break;case 32:e.prev=32,e.t1=e.catch(22),k(p("Error"),p("Please try again. Confirm the transaction and make sure you are paying enough gas!")),T(!1);case 36:case"end":return e.stop()}}),e,null,[[6,16],[22,32]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(z.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,e.next=4,l.deposit(t.toString(),ht);case 4:return n=e.sent,e.next=7,n.wait();case 7:e.sent.status&&(f(p("Staked!"),p("Your funds have been staked in the pool")),T(!1),s(),r(Object(R.d)({account:o}))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),k(p("Error"),p("Please try again. Confirm the transaction and make sure you are paying enough gas!")),T(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(z.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(ie.d)(new S.a(B),i.decimals),a?q(t):J(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ce.jsxs)(D.W,{title:p(a?"Unstake":"Stake in Pool"),onDismiss:s,headerBackground:O.colors.gradients.cardHeader,children:[Object(ce.jsxs)(D.H,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(ce.jsxs)(D.mb,{bold:!0,children:[p(a?"Unstake":"Stake"),":"]}),Object(ce.jsxs)(D.H,{alignItems:"center",minWidth:"70px",children:[Object(ce.jsx)(D.N,{src:"/images/tokens/".concat(Object(be.a)(i.address),".png"),width:24,height:24,alt:i.symbol}),Object(ce.jsx)(D.mb,{ml:"4px",bold:!0,children:i.symbol})]})]}),Object(ce.jsx)(D.g,{value:B,onUserInput:function(e){if(e){var t=new S.a(e).multipliedBy(Z.b.pow(i.decimals)),c=Math.floor(t.dividedBy(n).multipliedBy(100).toNumber());E(c>100?100:c)}else E(0);A(e)},currencyValue:Q.gt(0)&&"~".concat(W||0," USD"),decimals:i.decimals}),Object(ce.jsx)(D.mb,{mt:"8px",ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:p("Balance: %balance%",{balance:Object(ie.e)(n,i.decimals)})}),Object(ce.jsx)(D.jb,{min:0,max:100,value:U,onValueChanged:K,name:"stake",valueLabel:"".concat(U,"%"),step:1}),Object(ce.jsxs)(D.H,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object(ce.jsx)(mt,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return K(25)},children:"25%"}),Object(ce.jsx)(mt,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return K(50)},children:"50%"}),Object(ce.jsx)(mt,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return K(75)},children:"75%"}),Object(ce.jsx)(mt,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return K(100)},children:p("Max")})]}),a&&N&&Object(ce.jsx)(Ot,{stakingTokenSymbol:i.symbol,stakeAmount:B}),Object(ce.jsx)(D.k,{isLoading:w,endIcon:w?Object(ce.jsx)(D.f,{spin:!0,color:"currentColor"}):null,onClick:G,disabled:!B||0===parseFloat(B),mt:"24px",children:p(w?"Confirming":"Confirm")}),!a&&Object(ce.jsx)(D.k,{mt:"8px",as:"a",external:!0,href:"#/swap",variant:"secondary",children:p("Get %symbol%",{symbol:i.symbol})})]})},gt=function(e){var t=e.pool,n=e.stakingTokenBalance,c=Y(),a=c.userData.userShares,s=c.pricePerFullShare,r=t.stakingToken,i=Object(ne.b)(a,s),o=i.cakeAsBigNumber,l=i.cakeAsNumberBalance,b=Object(X.f)(),j=b.gt(0)?Object(ie.c)(o.multipliedBy(b),r.decimals):0,d=Object(D.Db)(Object(ce.jsx)(Ve,{tokenSymbol:r.symbol})),u=Object(h.a)(d,1)[0],x=Object(D.Db)(Object(ce.jsx)(ft,{stakingMax:n,pool:t})),p=Object(h.a)(x,1)[0],O=Object(D.Db)(Object(ce.jsx)(ft,{stakingMax:o,pool:t,isRemovingStake:!0})),m=Object(h.a)(O,1)[0];return Object(ce.jsxs)(D.H,{justifyContent:"space-between",alignItems:"center",children:[Object(ce.jsxs)(D.H,{flexDirection:"column",children:[Object(ce.jsx)(ee.a,{fontSize:"20px",bold:!0,value:l,decimals:5}),Object(ce.jsx)(D.mb,{fontSize:"12px",color:"textSubtle",children:b.gt(0)?Object(ce.jsx)(ee.a,{value:j,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"}):Object(ce.jsx)(D.ib,{mt:"1px",height:16,width:64})})]}),Object(ce.jsxs)(D.H,{children:[Object(ce.jsx)(D.M,{variant:"secondary",onClick:m,mr:"6px",children:Object(ce.jsx)(D.V,{color:"primary",width:"24px"})}),Object(ce.jsx)(D.M,{variant:"secondary",onClick:n.gt(0)?p:u,children:Object(ce.jsx)(D.a,{color:"primary",width:"24px",height:"24px"})})]})]})},kt=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.accountHasSharesStaked,a=e.isLoading,s=void 0!==a&&a,r=t.stakingToken,i=Object(F.b)().t,o=Object(D.Db)(Object(ce.jsx)(Ve,{tokenSymbol:r.symbol})),l=Object(h.a)(o,1)[0],b=Object(D.Db)(Object(ce.jsx)(ft,{stakingMax:n,pool:t})),j=Object(h.a)(b,1)[0];return Object(ce.jsx)(D.H,{flexDirection:"column",children:s?Object(ce.jsx)(D.ib,{width:"100%",height:"52px"}):c?Object(ce.jsx)(gt,{pool:t,stakingTokenBalance:n}):Object(ce.jsx)(D.k,{onClick:n.gt(0)?j:l,children:i("Stake")})})},yt=Object(v.e)(D.mb)(x||(x=Object(f.a)(["\n  display: inline;\n"]))),vt=function(e){var t=e.pool,n=e.accountHasSharesStaked,c=e.isLoading,a=t.stakingToken,s=t.userData,r=Object(F.b)().t,i=(null===s||void 0===s?void 0:s.stakingTokenBalance)?new S.a(s.stakingTokenBalance):Z.c,o=Ae(),l=o.isVaultApproved,b=o.setLastUpdated;return Object(ce.jsx)(D.H,{flexDirection:"column",children:Object(ce.jsxs)(D.H,{flexDirection:"column",children:[Object(ce.jsxs)(D.j,{display:"inline",children:[Object(ce.jsxs)(yt,{color:n?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[n?a.symbol:r("Stake")," "]}),Object(ce.jsx)(yt,{color:n?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n?r("Staked (compounding)"):"".concat(a.symbol)})]}),l?Object(ce.jsx)(kt,{isLoading:c,pool:t,stakingTokenBalance:i,accountHasSharesStaked:n}):Object(ce.jsx)(it,{isLoading:c,setLastUpdated:b})]})})},wt=function(e){var t=e.cakeToDisplay,n=e.dollarValueToDisplay,c=e.dateStringToDisplay,a=Object(F.b)().t,s=Object(D.Fb)(Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ee.a,{fontSize:"16px",value:t,decimals:3,bold:!0,unit:" CAKE"}),Object(ce.jsx)(ee.a,{fontSize:"16px",value:n,decimals:2,bold:!0,prefix:"~$"}),a("Earned since your last action"),Object(ce.jsx)(D.mb,{children:c})]}),{placement:"bottom-end"}),r=s.targetRef,i=s.tooltip,o=s.tooltipVisible;return Object(ce.jsxs)(ce.Fragment,{children:[o&&i,Object(ce.jsx)(D.sb,{ref:r,small:!0,children:Object(ce.jsx)(ee.a,{fontSize:"14px",value:t})})]})},St=function(){var e=Object(F.b)().t,t=Object(C.c)().account,n=Y(),c=n.pricePerFullShare,a=n.userData,s=a.cakeAtLastUserAction,r=a.userShares,i=a.lastUserActionTime,o=Object(X.f)(),l=Object(ne.d)(t,s,r,c,o.toNumber()),b=l.hasAutoEarnings,j=l.autoCakeToDisplay,d=l.autoUsdToDisplay,u=i&&1e3*parseInt(i),x=new Date(u).toLocaleString();return Object(ce.jsxs)(D.H,{alignItems:"center",justifyContent:"space-between",children:[Object(ce.jsx)(D.mb,{fontSize:"14px",children:"".concat(e("Recent SPHYNX profit"),":")}),b&&Object(ce.jsx)(wt,{cakeToDisplay:j,dollarValueToDisplay:d,dateStringToDisplay:x})]})},Ct=Object(v.e)(D.p)(p||(p=Object(f.a)(["\n  min-height: ",";\n  background-color: ",";\n"])),(function(e){return e.isLoading?"0":"254px"}),(function(e){return e.theme.colors.input})),Dt=function(e){var t=e.pool,n=e.showStakedOnly,c=Object(F.b)().t,a=Object(C.c)().account,s=Y(),r=s.userData,i=r.userShares,o=r.isLoading,l=s.fees.performanceFee,b=i&&i.gt(0),j=!t.userData||o,d=l&&l/100;return n&&!b?null:Object(ce.jsxs)(se,{isActive:!0,children:[Object(ce.jsx)(we,{isStaking:b,isAutoVault:!0,earningToken:ke.k.sphynx,stakingToken:ke.k.sphynx}),Object(ce.jsxs)(Ct,{isLoading:j,children:[Object(ce.jsx)(ae,{pool:t,performanceFee:d}),Object(ce.jsx)(D.j,{mt:"24px",children:Object(ce.jsx)(St,{})}),Object(ce.jsx)(D.j,{mt:"8px",children:Object(ce.jsx)(pt,{})}),Object(ce.jsx)(D.H,{mt:"32px",flexDirection:"column",children:a?Object(ce.jsx)(vt,{pool:t,accountHasSharesStaked:b,isLoading:j}):Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(D.mb,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:c("Start earning")}),Object(ce.jsx)($.a,{})]})})]}),Object(ce.jsx)(he,{pool:t,account:a})]})},Tt=n(143);!function(e){e.TABLE="TABLE",e.CARD="CARD"}(m||(m={}));var Ht,Pt,Bt,Ft,At,It,Lt,zt,Vt,Mt,Ut,Et,Rt,Nt,Yt,Xt,Qt,Wt,Kt,qt,Jt,Gt,_t,$t,Zt,en,tn,nn,cn,an,sn,rn,on,ln,bn,jn=v.e.div(O||(O=Object(f.a)(["\n  margin-right: 0px;\n  margin-left: -8px;\n\n  "," {\n    margin-left: 0;\n    margin-right: 16px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),dn=function(e){var t=e.viewMode,n=e.onToggle,c=function(e){t!==e&&n(e)};return Object(ce.jsxs)(jn,{children:[Object(ce.jsx)(D.M,{variant:"text",scale:"sm",id:"clickPoolCardView",onClick:function(){return c(m.CARD)},children:Object(ce.jsx)(D.t,{color:t===m.CARD?"primary":"textDisabled"})}),Object(ce.jsx)(D.M,{variant:"text",scale:"sm",id:"clickPoolTableView",onClick:function(){return c(m.TABLE)},children:Object(ce.jsx)(D.R,{color:t===m.TABLE?"primary":"textDisabled"})})]})},un=v.e.div(Ht||(Ht=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n\n  "," {\n    margin-left: 8px;\n  }\n"])),D.mb),xn=v.e.div(Pt||(Pt=Object(f.a)(["\n  flex-wrap: wrap;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  width: 100%;\n\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),pn=v.e.div(Bt||(Bt=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n\n  "," {\n    margin-left: 16px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),On=function(e){var t=e.stakedOnly,n=e.setStakedOnly,c=e.hasStakeInFinishedPools,a=e.viewMode,s=e.setViewMode,r=Object(y.h)().url,i=Object(F.b)().t,o=Object(ce.jsx)(dn,{viewMode:a,onToggle:function(e){return s(e)}}),l=Object(ce.jsx)(pn,{children:Object(ce.jsxs)(D.l,{activeIndex:"/pools"===r?0:1,scale:"sm",variant:"subtle",children:[Object(ce.jsx)(D.m,{as:Tt.b,to:"/pools",children:i("Live")}),Object(ce.jsx)(D.eb,{show:c,children:Object(ce.jsx)(D.m,{as:Tt.b,to:"/pools/history",children:i("Finished")})})]})}),b=Object(ce.jsxs)(un,{children:[Object(ce.jsx)(D.pb,{checked:t,onChange:function(){return n(!t)},scale:"sm"}),Object(ce.jsxs)(D.mb,{children:[" ",i("Staked only")]})]});return Object(ce.jsxs)(xn,{children:[o,b,l]})},mn=v.e.div(Ft||(Ft=Object(f.a)(["\n  background-color: ",";\n  height: 1px;\n  margin: 16px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.backgroundDisabled})),hn=function(e){var t=e.onDismiss,n=e.TooltipComponent,c=Object(F.b)().t,a=Object(C.c)().account,s=Object(Le.a)().theme,r=Object(Te.a)(),i=r.toastError,o=r.toastSuccess,l=Object(Ce.c)(),b=Object(g.useState)(!1),j=Object(h.a)(b,2),d=j[0],u=j[1],x=Y(),p=x.estimatedCakeBountyReward,O=x.totalPendingCakeHarvest,m=x.fees.callFee,f=Object(X.f)(),k=m/100,y=Object(ie.c)(O,18),v=Object(g.useMemo)((function(){return new S.a(p).multipliedBy(f)}),[f,p]),w=v.gte(0),T=!!p&&p.gte(0),H=w?Object(ie.c)(v,18):0,P=T?Object(ie.c)(p,18):0,B=Object(D.Fb)(Object(ce.jsx)(n,{fee:m}),{placement:"bottom",tooltipPadding:{right:15}}),A=B.targetRef,I=B.tooltip,V=B.tooltipVisible,M=function(){var e=Object(z.a)(L.a.mark((function e(){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,l.harvest({gasLimit:3e5});case 4:return n=e.sent,e.next=7,n.wait();case 7:e.sent.status&&(o(c("Bounty collected!"),c("SPHYNX bounty has been sent to your wallet.")),u(!1),t()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),i(c("Error"),c("Please try again. Confirm the transaction and make sure you are paying enough gas!")),u(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(ce.jsxs)(D.W,{title:c("Claim Bounty"),onDismiss:t,headerBackground:s.colors.gradients.cardHeader,children:[V&&I,Object(ce.jsxs)(D.H,{alignItems:"flex-start",justifyContent:"space-between",children:[Object(ce.jsx)(D.mb,{children:c("You\u2019ll claim")}),Object(ce.jsxs)(D.H,{flexDirection:"column",children:[Object(ce.jsx)(ee.a,{bold:!0,value:P,decimals:7,unit:" SPHYNX"}),Object(ce.jsx)(D.mb,{fontSize:"12px",color:"textSubtle",children:Object(ce.jsx)(ee.a,{fontSize:"12px",color:"textSubtle",value:H,decimals:2,unit:" USD",prefix:"~"})})]})]}),Object(ce.jsx)(mn,{}),Object(ce.jsxs)(D.H,{alignItems:"center",justifyContent:"space-between",children:[Object(ce.jsx)(D.mb,{fontSize:"14px",color:"textSubtle",children:c("Pool total pending yield")}),Object(ce.jsx)(ee.a,{color:"textSubtle",value:y,unit:" SPHYNX"})]}),Object(ce.jsxs)(D.H,{alignItems:"center",justifyContent:"space-between",mb:"24px",children:[Object(ce.jsx)(D.mb,{fontSize:"14px",color:"textSubtle",children:c("Bounty")}),Object(ce.jsxs)(D.mb,{fontSize:"14px",color:"textSubtle",children:[k,"%"]})]}),a?Object(ce.jsx)(D.k,{isLoading:d,disabled:!H||!P||!m,endIcon:d?Object(ce.jsx)(D.f,{spin:!0,color:"currentColor"}):null,onClick:M,mb:"28px",id:"autoCakeConfirmBounty",children:c(d?"Confirming":"Confirm")}):Object(ce.jsx)($.a,{mb:"28px"}),Object(ce.jsxs)(D.H,{justifyContent:"center",alignItems:"center",children:[Object(ce.jsx)(D.mb,{fontSize:"16px",bold:!0,color:"textSubtle",mr:"4px",children:c("What\u2019s this?")}),Object(ce.jsx)("span",{ref:A,children:Object(ce.jsx)(D.K,{color:"textSubtle"})})]})]})},fn=Object(v.e)(D.o)(At||(At=Object(f.a)(["\n  width: 100%;\n  flex: 1;\n  background: transparent;\n\n  & > div > div {\n    padding: 24px 0;\n  }\n\n  "," {\n    min-width: 240px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),gn=function(){var e=Object(F.b)().t,t=Y(),n=t.estimatedCakeBountyReward,c=t.fees.callFee,a=Object(X.f)(),s=Object(g.useMemo)((function(){return new S.a(n).multipliedBy(a)}),[a,n]),r=s.gte(0),i=!!n&&n.gte(0),o=r?Object(ie.c)(s,18):0,l=i?Object(ie.c)(n,18):0,b=function(t){var n=t.fee;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(D.mb,{mb:"16px",children:e("This bounty is given as a reward for providing a service to other users.")}),Object(ce.jsx)(D.mb,{mb:"16px",children:e("Whenever you successfully claim the bounty, you\u2019re also helping out by activating the Auto SPHYNX Pool\u2019s compounding function for everyone.")}),Object(ce.jsx)(D.mb,{style:{fontWeight:"bold"},children:e("Auto-Compound Bounty: %fee%% of all Auto SPHYNX pool users pending yield",{fee:n/100})})]})},j=Object(D.Db)(Object(ce.jsx)(hn,{TooltipComponent:b})),d=Object(h.a)(j,1)[0],u=Object(D.Fb)(Object(ce.jsx)(b,{fee:c}),{placement:"bottom-end",tooltipOffset:[20,10]}),x=u.targetRef,p=u.tooltip,O=u.tooltipVisible;return Object(ce.jsxs)(ce.Fragment,{children:[O&&p,Object(ce.jsx)(fn,{background:"transparent",children:Object(ce.jsxs)(D.p,{children:[Object(ce.jsx)(D.H,{flexDirection:"column",children:Object(ce.jsxs)(D.H,{alignItems:"center",mb:"12px",children:[Object(ce.jsx)(D.mb,{fontSize:"16px",bold:!0,color:"textSubtle",mr:"4px",children:e("Auto SPHYNX Bounty")}),Object(ce.jsx)(D.j,{ref:x,children:Object(ce.jsx)(D.K,{color:"textSubtle"})})]})}),Object(ce.jsxs)(D.H,{alignItems:"center",justifyContent:"space-between",children:[Object(ce.jsxs)(D.H,{flexDirection:"column",mr:"12px",children:[Object(ce.jsx)(D.J,{children:i?Object(ce.jsx)(ee.a,{fontSize:"20px",bold:!0,value:l,decimals:3}):Object(ce.jsx)(D.ib,{height:20,width:96,mb:"2px"})}),r?Object(ce.jsx)(ee.a,{fontSize:"12px",color:"textSubtle",value:o,decimals:2,unit:" USD",prefix:"~"}):Object(ce.jsx)(D.ib,{height:16,width:62})]}),Object(ce.jsx)(D.k,{variant:"primary",disabled:!o||!l||!c,onClick:d,scale:"sm",id:"clickClaimVaultBounty",children:e("Claim")})]})]})})]})},kn=n(1457),yn=v.e.div(It||(It=Object(f.a)(["\n  color: black;\n\n  padding: 24px 8px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n"]))),vn=Object(v.e)(D.H)(Lt||(Lt=Object(f.a)(["\n  flex-direction: column;\n  justify-content: center;\n  max-height: 40px;\n  "," {\n    line-height: 1;\n  }\n"])),D.mb),wn=yn,Sn=Object(v.e)(wn)(zt||(zt=Object(f.a)(["\n  flex: 5;\n  flex-direction: row;\n  padding-left: 12px;\n  "," {\n    flex: 1 0 150px;\n    padding-left: 32px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Cn=function(e){var t=e.pool,n=Object(F.b)().t,c=Object(D.Cb)(),a=c.isXs,s=c.isSm,r=t.sousId,i=t.stakingToken,o=t.earningToken,l=t.userData,b=t.isFinished,j=t.isAutoVault,d=Y().userData.userShares,u=d&&d.gt(0),x=i.symbol,p=o.symbol,O=((null===l||void 0===l?void 0:l.stakedBalance)?new S.a(l.stakedBalance):Z.c).gt(0),m=0===r,h=j?u:O,f="".concat(n("Earn")," ").concat(p),g="".concat(n("Stake")," ").concat(x),k=0!==r||0===r&&!a&&!s;return j?(f=n("Auto SPHYNX"),g=n("Automatic restaking")):m&&(f=n("Manual SPHYNX"),g="".concat(n("Earn")," SPHYNX ").concat(n("Stake").toLocaleLowerCase()," SPHYNX")),Object(ce.jsxs)(Sn,{role:"cell",children:[j?Object(ce.jsx)(ye,{mr:"8px",width:40,height:40}):Object(ce.jsx)(fe.a,{primaryToken:o,secondaryToken:i,mr:"8px",width:40,height:40}),Object(ce.jsxs)(vn,{children:[h&&Object(ce.jsx)(D.mb,{fontSize:"12px",bold:!0,color:b?"failure":"secondary",textTransform:"uppercase",children:n("Staked")}),Object(ce.jsx)(D.mb,{bold:!a&&!s,small:a||s,children:f}),k&&Object(ce.jsx)(D.mb,{fontSize:"12px",color:"textSubtle",children:g})]})]})},Dn=Object(v.e)(wn)(Vt||(Vt=Object(f.a)(["\n  flex: 4.5;\n  "," {\n    flex: 1 0 120px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Tn=v.e.div(Mt||(Mt=Object(f.a)(["\n  align-self: center;\n"]))),Hn=function(e){var t=e.pool,n=e.account,c=e.userDataLoaded,a=Object(F.b)().t,s=Object(D.Cb)(),r=s.isXs,i=s.isSm,o=t.sousId,l=t.earningToken,b=t.poolCategory,j=t.userData,d=t.earningTokenPrice,u=t.isAutoVault,x=0===o,p=(null===j||void 0===j?void 0:j.pendingReward)?new S.a(j.pendingReward):Z.c,O=Object(ie.c)(p,l.decimals),m=Object(ie.c)(p.multipliedBy(d),l.decimals),f=n&&p.gt(0),g=Object(ie.e)(p,l.decimals),k=Object(ie.a)(O,3,3),y=b===Se.b.BINANCE,v=Y(),w=v.userData,C=w.cakeAtLastUserAction,T=w.userShares,H=w.lastUserActionTime,P=v.pricePerFullShare,B=Object(ne.d)(n,C,T,P,d),A=B.hasAutoEarnings,I=B.autoCakeToDisplay,L=B.autoUsdToDisplay,z=H&&1e3*parseInt(H),V=new Date(z).toLocaleString(),M=u?a("Recent SPHYNX profit"):a("%asset% Earned",{asset:l.symbol});O=u?I:O,f=u?A:f,m=u?L:m;var U=Object(D.Fb)(Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ee.a,{fontSize:"16px",value:I,decimals:3,bold:!0,unit:" SPHYNX"}),Object(ce.jsx)(ee.a,{fontSize:"16px",value:L,decimals:2,bold:!0,prefix:"~$"}),a("Earned since your last action"),Object(ce.jsx)(D.mb,{children:V})]}),{placement:"bottom"}),E=U.targetRef,R=U.tooltip,N=U.tooltipVisible,X=Object(D.Db)(Object(ce.jsx)(tt,{formattedBalance:k,fullBalance:g,earningToken:l,earningsDollarValue:m,sousId:o,isBnbPool:y,isCompoundPool:x})),Q=Object(h.a)(X,1)[0];return Object(ce.jsx)(Dn,{role:"cell",children:Object(ce.jsxs)(vn,{children:[Object(ce.jsx)(D.mb,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:M}),!c&&n?Object(ce.jsx)(D.ib,{width:"80px",height:"16px"}):Object(ce.jsxs)(ce.Fragment,{children:[N&&R,Object(ce.jsxs)(D.H,{children:[Object(ce.jsxs)(D.j,{mr:"8px",height:"32px",onClick:!u&&f?function(e){e.stopPropagation(),Q()}:void 0,children:[Object(ce.jsx)(ee.a,{mt:"4px",bold:!r&&!i,fontSize:r||i?"14px":"16px",color:f?"primary":"textDisabled",decimals:f?5:1,value:f?O:0}),f?Object(ce.jsx)(ce.Fragment,{children:d>0&&Object(ce.jsx)(ee.a,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:m,unit:" USD"})}):Object(ce.jsx)(D.mb,{mt:"4px",fontSize:"12px",color:"textDisabled",children:"0 USD"})]}),u&&f&&!r&&!i&&Object(ce.jsx)(Tn,{ref:E,children:Object(ce.jsx)(D.K,{color:"textSubtle"})})]})]})]})})},Pn=n(87),Bn=["pool","showIcon","performanceFee"],Fn=function(e){var t=e.pool,n=e.showIcon,c=e.performanceFee,a=void 0===c?0:c,s=Object(Pn.a)(e,Bn),r=t.stakingToken,i=t.earningToken,o=t.isFinished,l=t.earningTokenPrice,b=t.apr,j=Object(F.b)().t,d=Object(ne.c)(t,a),u=d.apr,x=d.roundingDecimals,p=d.compoundFrequency,O=Object(D.Db)(Object(ce.jsx)(te.a,{tokenPrice:l,apr:b,linkLabel:j("Get %symbol%",{symbol:r.symbol}),linkHref:"/swap",earningTokenSymbol:i.symbol,roundingDecimals:x,compoundFrequency:p,performanceFee:a})),m=Object(h.a)(O,1)[0],f=function(e){e.stopPropagation(),m()};return Object(ce.jsx)(D.H,Object(ge.a)(Object(ge.a)({alignItems:"center",justifyContent:"space-between"},s),{},{children:u||o?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ee.a,{onClick:f,fontSize:"16px",isDisabled:o,value:o?0:u,decimals:2,unit:"%"}),!o&&n&&Object(ce.jsx)(D.k,{onClick:f,variant:"text",width:"20px",height:"20px",padding:"0px",marginLeft:"4px",children:Object(ce.jsx)(D.n,{color:"textSubtle",width:"20px"})})]}):Object(ce.jsx)(D.ib,{width:"80px",height:"16px"})}))},An=Object(v.e)(wn)(Ut||(Ut=Object(f.a)(["\n  flex: 1 0 50px;\n  "," {\n    flex: 0 0 120px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),In=function(e){var t=e.pool,n=e.performanceFee,c=Object(F.b)().t,a=Object(D.Cb)(),s=a.isXs,r=a.isSm,i=t.isAutoVault;return Object(ce.jsx)(An,{role:"cell",children:Object(ce.jsxs)(vn,{children:[Object(ce.jsx)(D.mb,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:c(i?"APY":"APR")}),Object(ce.jsx)(Fn,{pool:t,performanceFee:i?n:0,showIcon:!s&&!r})]})})},Ln=Object(v.e)(wn)(Et||(Et=Object(f.a)(["\n  flex: 2 0 100px;\n"]))),zn=function(e){var t=e.pool,n=Object(F.b)().t,c=t.sousId,a=t.stakingToken,s=t.totalStaked,r=t.isAutoVault,i=Y().totalCakeInVault,o=0===c,l=Object(g.useMemo)((function(){if(r)return Object(ie.c)(i,a.decimals);if(o){var e=new S.a(s).minus(i);return Object(ie.c)(e,a.decimals)}return Object(ie.c)(s,a.decimals)}),[r,i,o,s,a.decimals]);return Object(ce.jsx)(Ln,{role:"cell",children:Object(ce.jsxs)(vn,{children:[Object(ce.jsx)(D.mb,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:n("Total staked")}),s&&s.gte(0)?Object(ce.jsx)(D.H,{mt:"4px",alignItems:"center",children:Object(ce.jsx)(ee.a,{fontSize:"16px",value:l,decimals:0,unit:" ".concat(a.symbol)})}):Object(ce.jsx)(D.ib,{width:"80px",height:"16px"})]})})},Vn=Object(v.e)(wn)(Rt||(Rt=Object(f.a)(["\n  flex: 2 0 100px;\n"]))),Mn=function(e){var t=e.pool,n=t.sousId,c=t.totalStaked,a=t.startBlock,s=t.endBlock,r=t.isFinished,i=Object(le.a)().currentBlock,o=Object(F.b)().t,l=Object(ne.e)(t,i),b=l.shouldShowBlockCountdown,j=l.blocksUntilStart,d=l.blocksRemaining,u=l.hasPoolStarted,x=l.blocksToDisplay,p=0===n,O=b?Object(ce.jsxs)(D.H,{alignItems:"center",children:[Object(ce.jsxs)(D.H,{flex:"1.3",children:[Object(ce.jsx)(ee.a,{fontSize:"16px",value:x,decimals:0}),Object(ce.jsx)(D.mb,{ml:"4px",textTransform:"lowercase",children:o("Blocks")})]}),Object(ce.jsx)(D.H,{flex:"1",children:Object(ce.jsx)(D.P,{external:!0,href:Object(de.e)(u?s:a,"countdown"),onClick:function(e){return e.stopPropagation()},children:Object(ce.jsx)(D.nb,{ml:"4px"})})})]}):Object(ce.jsx)(D.mb,{children:"-"}),m=(!c.gt(0)||!i||!d&&!j)&&!p&&!r;return Object(ce.jsx)(Vn,{role:"cell",children:Object(ce.jsxs)(vn,{children:[Object(ce.jsx)(D.mb,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:o(u||!b?"Ends in":"Starts in")}),m?Object(ce.jsx)(D.ib,{width:"80px",height:"16px"}):O]})})},Un=Object(v.e)(wn)(Nt||(Nt=Object(f.a)(["\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  flex: 1;\n  padding-right: 12px;\n  padding-left: 0px;\n  "," {\n    flex: 0 0 120px;\n    padding-right: 32px;\n    padding-left: 8px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),En=Object(v.e)(D.x)(Yt||(Yt=Object(f.a)(["\n  transform: ",";\n  height: 24px;\n"])),(function(e){return e.toggled?"rotate(180deg)":"rotate(0)"})),Rn=function(e){var t=e.expanded,n=e.isFullLayout,c=Object(F.b)().t;return Object(ce.jsxs)(Un,{role:"cell",children:[n&&Object(ce.jsx)(D.mb,{color:"white",bold:!0,children:c(t?"Hide":"Details")}),Object(ce.jsx)(En,{color:"white",toggled:t})]})},Nn=v.e.div(Xt||(Xt=Object(f.a)(["\n  padding: 16px;\n  border: 2px solid ",";\n  border-radius: 16px;\n  flex-grow: 1;\n  flex-basis: 0;\n  margin-bottom: 16px;\n\n  "," {\n    margin-left: 12px;\n    margin-right: 12px;\n    margin-bottom: 0;\n    height: 130px;\n    max-height: 130px;\n  }\n\n  "," {\n    margin-left: 32px;\n    margin-right: 0;\n    margin-bottom: 0;\n    height: 130px;\n    max-height: 130px;\n  }\n"])),(function(e){return e.theme.colors.input}),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.xl})),Yn=v.e.div(Qt||(Qt=Object(f.a)(["\n  font-weight: 600;\n  font-size: 12px;\n"]))),Xn=v.e.div(Wt||(Wt=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),Qn=function(e){var t=e.sousId,n=e.poolCategory,c=e.earningToken,a=e.userData,s=e.userDataLoaded,r=e.isAutoVault,i=e.earningTokenPrice,o=Object(F.b)().t,l=Object(C.c)().account,b=(null===a||void 0===a?void 0:a.pendingReward)?new S.a(a.pendingReward):Z.c,j=Object(ie.c)(b,c.decimals),d=Object(ie.c)(b.multipliedBy(i),c.decimals),u=b.gt(0),x=Object(ie.e)(b,c.decimals),p=Object(ie.a)(j,3,3),O=0===t,m=n===Se.b.BINANCE,f=Y(),g=f.userData,k=g.cakeAtLastUserAction,y=g.userShares,v=f.pricePerFullShare,w=f.fees.performanceFee,T=Object(ne.d)(l,k,y,v,i),H=T.hasAutoEarnings,P=T.autoCakeToDisplay,B=T.autoUsdToDisplay;j=r?P:j,u=r?H:u,d=r?B:d;var A=Object(D.Db)(Object(ce.jsx)(tt,{formattedBalance:p,fullBalance:x,earningToken:c,earningsDollarValue:d,sousId:t,isBnbPool:m,isCompoundPool:O})),I=Object(h.a)(A,1)[0],L=Object(D.Fb)(o("Subtracted automatically from each yield harvest and burned."),{placement:"bottom-start"}),z=L.targetRef,V=L.tooltip,M=L.tooltipVisible,U=r?Object(ce.jsx)(D.mb,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:o("Recent SPHYNX profit")}):Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(D.mb,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:[c.symbol," "]}),Object(ce.jsx)(D.mb,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:o("Earned")})]});return l?s?Object(ce.jsxs)(Nn,{children:[Object(ce.jsx)(Yn,{children:U}),Object(ce.jsxs)(Xn,{children:[Object(ce.jsx)(D.H,{flex:"1",pt:"16px",flexDirection:"column",alignSelf:"flex-start",children:Object(ce.jsx)(ce.Fragment,{children:u?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ee.a,{lineHeight:"1",bold:!0,fontSize:"20px",decimals:5,value:j}),i>0&&Object(ce.jsx)(ee.a,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:d,unit:" USD"})]}):Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(D.J,{color:"textDisabled",children:"0"}),Object(ce.jsx)(D.mb,{fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})}),r?Object(ce.jsxs)(D.H,{flex:"1.3",flexDirection:"column",alignSelf:"flex-start",alignItems:"flex-start",children:[Object(ce.jsx)(pt,{isTableVariant:!0}),Object(ce.jsxs)(D.H,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[M&&V,Object(ce.jsx)(D.sb,{ref:z,small:!0,children:o("Performance Fee")}),Object(ce.jsx)(D.H,{alignItems:"center",children:Object(ce.jsxs)(D.mb,{ml:"4px",small:!0,children:[w/100,"%"]})})]})]}):Object(ce.jsx)(D.k,{disabled:!u,onClick:I,children:o(O?"Collect":"Harvest")})]})]}):Object(ce.jsxs)(Nn,{children:[Object(ce.jsx)(Yn,{children:U}),Object(ce.jsx)(Xn,{children:Object(ce.jsx)(D.ib,{width:180,height:"32px",marginTop:14})})]}):Object(ce.jsxs)(Nn,{children:[Object(ce.jsx)(Yn,{children:U}),Object(ce.jsxs)(Xn,{children:[Object(ce.jsx)(D.J,{children:"0"}),Object(ce.jsx)(D.k,{disabled:!0,children:o(O?"Collect":"Harvest")})]})]})},Wn=v.e.div(Kt||(Kt=Object(f.a)(["\n  display: flex;\n"]))),Kn=function(e){var t=e.pool,n=e.userDataLoaded,c=t.sousId,a=t.stakingToken,s=t.earningToken,r=t.stakingLimit,i=t.isFinished,o=t.poolCategory,l=t.userData,b=t.stakingTokenPrice,j=t.isAutoVault,d=Object(F.b)().t,u=Object(C.c)().account,x=Object(Ce.f)(a.address?Object(be.a)(a.address):""),p=Be(x,c,s.symbol),O=p.handleApprove,m=p.requestedApproval,f=Ae(),g=f.isVaultApproved,k=f.setLastUpdated,y=Fe(k),v=y.handleApprove,w=y.requestedApproval,T=j?v:O,H=j?w:m,P=o===Se.b.BINANCE,B=(null===l||void 0===l?void 0:l.allowance)?new S.a(l.allowance):Z.c,A=(null===l||void 0===l?void 0:l.stakedBalance)?new S.a(l.stakedBalance):Z.c,I=!j&&A.gt(0),L=(null===l||void 0===l?void 0:l.stakingTokenBalance)?new S.a(l.stakingTokenBalance):Z.c,z=Object(ie.c)(A,a.decimals),V=Object(ie.c)(A.multipliedBy(b),a.decimals),M=Y(),U=M.userData.userShares,E=M.pricePerFullShare,R=Object(ne.b)(U,E),N=R.cakeAsBigNumber,X=R.cakeAsNumberBalance,Q=U&&U.gt(0),W=j&&Q,K=Object(ie.c)(N.multipliedBy(b),a.decimals),q=j?!g:!B.gt(0)&&!P,J=Object(D.Db)(Object(ce.jsx)(Ve,{tokenSymbol:a.symbol})),G=Object(h.a)(J,1)[0],_=Object(D.Db)(Object(ce.jsx)(Je,{isBnbPool:P,pool:t,stakingTokenBalance:L,stakingTokenPrice:b})),te=Object(h.a)(_,1)[0],ae=Object(D.Db)(Object(ce.jsx)(ft,{stakingMax:L,pool:t})),se=Object(h.a)(ae,1)[0],re=Object(D.Db)(Object(ce.jsx)(Je,{stakingTokenBalance:L,isBnbPool:P,pool:t,stakingTokenPrice:b,isRemovingStake:!0})),oe=Object(h.a)(re,1)[0],le=Object(D.Db)(Object(ce.jsx)(ft,{stakingMax:N,pool:t,isRemovingStake:!0})),je=Object(h.a)(le,1)[0],de=function(){j?se():te()},ue=Object(D.Fb)(d("You've already staked the maximum amount you can stake in this pool!"),{placement:"bottom"}),xe=ue.targetRef,pe=ue.tooltip,Oe=ue.tooltipVisible,me=r.gt(0)&&l.stakedBalance.gte(r);return u?n?q?Object(ce.jsxs)(Nn,{children:[Object(ce.jsx)(Yn,{children:Object(ce.jsx)(D.mb,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:d("Enable pool")})}),Object(ce.jsx)(Xn,{children:Object(ce.jsx)(D.k,{width:"100%",disabled:H,onClick:T,variant:"secondary",children:d("Enable")})})]}):I||W?Object(ce.jsxs)(Nn,{children:[Object(ce.jsxs)(Yn,{children:[Object(ce.jsxs)(D.mb,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:[a.symbol," "]}),Object(ce.jsx)(D.mb,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:d(j?"Staked (compounding)":"Staked")})]}),Object(ce.jsxs)(Xn,{children:[Object(ce.jsxs)(D.H,{flex:"1",pt:"16px",flexDirection:"column",alignSelf:"flex-start",children:[Object(ce.jsx)(ee.a,{lineHeight:"1",bold:!0,fontSize:"20px",decimals:5,value:j?X:z}),Object(ce.jsx)(ee.a,{fontSize:"12px",display:"inline",color:"textSubtle",decimals:2,value:j?K:V,unit:" USD",prefix:"~"})]}),Object(ce.jsxs)(Wn,{children:[Object(ce.jsx)(D.M,{variant:"secondary",onClick:function(){j?je():oe()},mr:"6px",children:Object(ce.jsx)(D.V,{color:"primary",width:"14px"})}),me?Object(ce.jsx)("span",{ref:xe,children:Object(ce.jsx)(D.M,{variant:"secondary",disabled:!0,children:Object(ce.jsx)(D.a,{color:"textDisabled",width:"24px",height:"24px"})})}):Object(ce.jsx)(D.M,{variant:"secondary",onClick:L.gt(0)?de:G,disabled:i,children:Object(ce.jsx)(D.a,{color:"primary",width:"14px"})})]}),Oe&&pe]})]}):Object(ce.jsxs)(Nn,{children:[Object(ce.jsxs)(Yn,{children:[Object(ce.jsxs)(D.mb,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:[d("Stake")," "]}),Object(ce.jsx)(D.mb,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:a.symbol})]}),Object(ce.jsx)(Xn,{children:Object(ce.jsx)(D.k,{width:"100%",onClick:L.gt(0)?de:G,variant:"secondary",disabled:i,children:d("Stake")})})]}):Object(ce.jsxs)(Nn,{children:[Object(ce.jsx)(Yn,{children:Object(ce.jsx)(D.mb,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:d("Start staking")})}),Object(ce.jsx)(Xn,{children:Object(ce.jsx)(D.ib,{width:180,height:"32px",marginTop:14})})]}):Object(ce.jsxs)(Nn,{children:[Object(ce.jsx)(Yn,{children:Object(ce.jsx)(D.mb,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:d("Start staking")})}),Object(ce.jsx)(Xn,{children:Object(ce.jsx)($.a,{width:"100%"})})]})},qn=Object(v.f)(qt||(qt=Object(f.a)(["\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 700px;\n  }\n"]))),Jn=Object(v.f)(Jt||(Jt=Object(f.a)(["\n  from {\n    max-height: 700px;\n  }\n  to {\n    max-height: 0px;\n  }\n"]))),Gn=v.e.div(Gt||(Gt=Object(f.a)(["\n  animation: ",";\n  overflow: hidden;\n  background: ",";\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: center;\n  padding: 12px;\n\n  "," {\n    flex-direction: row;\n    padding: 16px 32px;\n  }\n"])),(function(e){return e.expanded?Object(v.d)(_t||(_t=Object(f.a)(["\n          "," 300ms linear forwards\n        "])),qn):Object(v.d)($t||($t=Object(f.a)(["\n          "," 300ms linear forwards\n        "])),Jn)}),(function(e){return e.theme.colors.input}),(function(e){return e.theme.mediaQueries.lg})),_n=v.e.div(Zt||(Zt=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n\n  "," {\n    flex-direction: row;\n    align-items: center;\n    flex-grow: 1;\n    flex-basis: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),$n=Object(v.e)(D.j)(en||(en=Object(f.a)(["\n  flex-grow: 0;\n  flex-shrink: 0;\n  flex-basis: auto;\n  padding: 8px 8px;\n  "," {\n    padding: 0;\n    flex-basis: 230px;\n  }\n"])),(function(e){return e.theme.mediaQueries.lg})),Zn=function(e){var t,n=e.account,c=e.pool,a=e.userDataLoaded,s=e.expanded,r=e.breakpoints,i=c.sousId,o=c.stakingToken,l=c.earningToken,b=c.totalStaked,j=c.startBlock,d=c.endBlock,u=c.stakingLimit,x=c.contractAddress,p=c.isAutoVault,O=Object(F.b)().t,m=Object(be.a)(x),h=Object(be.g)(),f=Object(le.a)().currentBlock,k=r.isXs,y=r.isSm,v=r.isMd,w=(k||y)&&0===i,C=Object(ne.e)(c,f),T=C.shouldShowBlockCountdown,H=C.blocksUntilStart,P=C.blocksRemaining,B=C.hasPoolStarted,A=C.blocksToDisplay,I=!!(null===(t=window.ethereum)||void 0===t?void 0:t.isMetaMask),L=l.address?Object(be.a)(l.address):"",z=Y(),V=z.totalCakeInVault,M=z.fees.performanceFee,U=M&&M/100,E=0===i,R=Object(D.Fb)(O("Total amount of %symbol% staked in this pool",{symbol:o.symbol}),{placement:"bottom"}),N=R.targetRef,X=R.tooltip,Q=R.tooltipVisible,W=O("You must harvest and compound your earnings from this pool manually."),K=O("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),q=Object(D.Fb)(p?K:W,{placement:"bottom-start"}),J=q.targetRef,G=q.tooltip,_=q.tooltipVisible,$=u.gt(0)?Object(ce.jsxs)(D.H,{mb:"8px",justifyContent:"space-between",children:[Object(ce.jsxs)(D.mb,{children:[O("Max. stake per user"),":"]}),Object(ce.jsx)(D.mb,{children:"".concat(Object(ie.e)(u,o.decimals,0)," ").concat(o.symbol)})]}):null,Z=P||H?Object(ce.jsxs)(D.H,{mb:"8px",justifyContent:"space-between",children:[Object(ce.jsxs)(D.mb,{children:[O(B?"Ends in":"Starts in"),":"]}),Object(ce.jsx)(D.H,{children:Object(ce.jsxs)(D.P,{external:!0,href:Object(de.e)(B?d:j,"countdown"),children:[Object(ce.jsx)(ee.a,{fontSize:"16px",value:A,decimals:0,color:"primary"}),Object(ce.jsx)(D.mb,{ml:"4px",color:"primary",textTransform:"lowercase",children:O("Blocks")}),Object(ce.jsx)(D.nb,{ml:"4px",color:"primary"})]})})]}):Object(ce.jsx)(D.ib,{width:"56px",height:"16px"}),te=Object(ce.jsxs)(D.H,{justifyContent:"space-between",alignItems:"center",mb:"8px",children:[Object(ce.jsxs)(D.mb,{children:[O(p?"APY":"APR"),":"]}),Object(ce.jsx)(Fn,{pool:c,showIcon:!0,performanceFee:p?U:0})]}),ae=Object(ce.jsxs)(D.H,{justifyContent:"space-between",alignItems:"center",mb:"8px",children:[Object(ce.jsxs)(D.mb,{maxWidth:["50px","100%"],children:[O("Total staked"),":"]}),Object(ce.jsxs)(D.H,{alignItems:"center",children:[b&&b.gte(0)?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ee.a,{fontSize:"16px",value:function(){if(p)return Object(ie.c)(V,o.decimals);if(E){var e=new S.a(b).minus(V);return Object(ie.c)(e,o.decimals)}return Object(ie.c)(b,o.decimals)}(),decimals:0,unit:" ".concat(o.symbol)}),Object(ce.jsx)("span",{ref:N,children:Object(ce.jsx)(D.K,{color:"textSubtle",width:"20px",ml:"4px"})})]}):Object(ce.jsx)(D.ib,{width:"56px",height:"16px"}),Q&&X]})]}),se=Object(g.useCallback)((function(){Object(je.a)(L,l.symbol,l.decimals)}),[l,L]);return Object(ce.jsxs)(Gn,{expanded:s,children:[Object(ce.jsxs)($n,{children:[$,(k||y)&&te,(k||y||v)&&ae,T&&Z,Object(ce.jsx)(D.H,{mb:"8px",justifyContent:["flex-end","flex-end","flex-start"],children:Object(ce.jsx)(D.Q,{href:"https://pancakeswap.info/token/".concat(Object(be.a)(l.address)),bold:!1,children:O("See Token Info")})}),Object(ce.jsx)(D.H,{mb:"8px",justifyContent:["flex-end","flex-end","flex-start"],children:Object(ce.jsx)(D.Q,{href:l.projectLink,bold:!1,children:O("View Project Site")})}),m&&Object(ce.jsx)(D.H,{mb:"8px",justifyContent:["flex-end","flex-end","flex-start"],children:Object(ce.jsx)(D.Q,{href:"".concat(oe.a,"/address/").concat(p?h:m),bold:!1,children:O("View Contract")})}),n&&I&&L&&Object(ce.jsx)(D.H,{mb:"8px",justifyContent:["flex-end","flex-end","flex-start"],children:Object(ce.jsxs)(D.k,{variant:"text",p:"0",height:"auto",onClick:se,children:[Object(ce.jsx)(D.mb,{color:"primary",children:O("Add to Metamask")}),Object(ce.jsx)(D.U,{ml:"4px"})]})}),p?Object(ce.jsx)(re.b,{}):Object(ce.jsx)(re.e,{}),_&&G,Object(ce.jsx)("span",{ref:J,children:Object(ce.jsx)(D.K,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]}),Object(ce.jsxs)(_n,{children:[w&&Object(ce.jsx)(D.mb,{mt:"4px",mb:"16px",color:"textSubtle",children:p?O("Automatic restaking"):"".concat(O("Earn")," SPHYNX ").concat(O("Stake").toLocaleLowerCase()," SPHYNX")}),Object(ce.jsx)(Qn,Object(ge.a)(Object(ge.a)({},c),{},{userDataLoaded:a})),Object(ce.jsx)(Kn,{pool:c,userDataLoaded:a})]})]})},ec=v.e.div(tn||(tn=Object(f.a)(["\n  background-color: transparent;\n  display: flex;\n  cursor: pointer;\n"]))),tc=function(e){var t=e.pool,n=e.account,c=e.userDataLoaded,a=Object(D.Cb)(),s=a.isXs,r=a.isSm,i=a.isMd,o=a.isLg,l=a.isXl,b=Object(g.useState)(!1),j=Object(h.a)(b,2),d=j[0],u=j[1],x=Object(kn.a)(d,300),p=Y().fees.performanceFee,O=p&&p/100;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(ec,{role:"row",onClick:function(){u((function(e){return!e}))},children:[Object(ce.jsx)(Cn,{pool:t}),Object(ce.jsx)(Hn,{pool:t,account:n,userDataLoaded:c}),Object(ce.jsx)(In,{pool:t,performanceFee:O}),(o||l)&&Object(ce.jsx)(zn,{pool:t}),l&&Object(ce.jsx)(Mn,{pool:t}),Object(ce.jsx)(Rn,{expanded:d,isFullLayout:i||o||l})]}),x&&Object(ce.jsx)(Zn,{account:n,pool:t,userDataLoaded:c,expanded:d,breakpoints:{isXs:s,isSm:r,isMd:i,isLg:o,isXl:l}})]})},nc=v.e.div(nn||(nn=Object(f.a)(["\n  border-radius: ",";\n\n  background-color: ",";\n  > div:not(:last-child) {\n    border-bottom: 2px solid ",";\n  }\n"])),(function(e){return e.theme.radii.card}),(function(e){return e.theme.colors.input}),(function(e){return e.theme.colors.disabled})),cc=v.e.div(cn||(cn=Object(f.a)(["\n  border-radius: ",";\n  background-color: ",";\n  padding: 1px 1px 3px 1px;\n  background-size: 400% 400%;\n"])),(function(e){return e.theme.radii.card}),(function(e){return e.theme.colors.input})),ac=v.e.div(an||(an=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 5px;\n  padding-bottom: 5px;\n"]))),sc=function(e){var t=e.pools,n=e.userDataLoaded,c=e.account,a=Object(F.b)().t,s=Object(g.useRef)(null);return Object(ce.jsx)(cc,{children:Object(ce.jsxs)(nc,{role:"table",ref:s,children:[t.map((function(e){return Object(ce.jsx)(tc,{pool:e,account:c,userDataLoaded:n},e.isAutoVault?"auto-cake":e.sousId)})),Object(ce.jsx)(ac,{children:Object(ce.jsxs)(D.k,{variant:"text",onClick:function(){s.current.scrollIntoView({behavior:"smooth"})},style:{color:"white"},children:[a("To Top"),Object(ce.jsx)(D.z,{color:"white"})]})})]})})},rc=Object(v.e)(W.a)(sn||(sn=Object(f.a)(["\n  justify-content: center;\n"]))),ic=v.e.div(rn||(rn=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n\n  & > div {\n    margin-bottom: 16px;\n  }\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 32px;\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),oc=v.e.div(on||(on=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),lc=v.e.div(ln||(ln=Object(f.a)(["\n  > "," {\n    font-size: 12px;\n  }\n"])),D.mb),bc=Object(v.e)(D.H)(bn||(bn=Object(f.a)(["\n  > div {\n    flex: 1;\n  }\n"])));t.default=function(){var e=Object(y.g)(),t=Object(F.b)().t,n=Object(C.c)().account,c=function(e){var t=Object(E.a)().fastRefresh,n=Object(M.b)();Object(g.useEffect)((function(){e&&n(Object(R.g)(e))}),[e,n,t]);var c=Object(V.c)((function(e){return{pools:e.pools.data,userDataLoaded:e.pools.userDataLoaded}})),a=c.pools,s=c.userDataLoaded;return{pools:a.map(N.b),userDataLoaded:s}}(n),a=c.pools,s=c.userDataLoaded,r=Object(A.a)(!1,{localStorageKey:"pancake_pool_staked"}),i=Object(h.a)(r,2),o=i[0],l=i[1],b=Object(g.useState)(12),j=Object(h.a)(b,2),d=j[0],u=j[1],x=Object(g.useState)(!1),p=Object(h.a)(x,2),O=p[0],f=p[1],k=Object(g.useRef)(null),v=Object(A.a)(m.TABLE,{localStorageKey:"pancake_pool_view"}),w=Object(h.a)(v,2),T=w[0],P=w[1],I=Object(g.useState)(""),W=Object(h.a)(I,2),$=W[0],Z=W[1],ee=Object(g.useState)("hot"),te=Object(h.a)(ee,2),ae=te[0],se=te[1],re=Object(g.useRef)(0),ie=Y(),oe=ie.userData,le=oe.cakeAtLastUserAction,be=oe.userShares,je=ie.fees.performanceFee,de=ie.pricePerFullShare,ue=ie.totalCakeInVault,xe=be&&be.gt(0),pe=je&&je/100,Oe=Object(g.useMemo)((function(){return a}),[a]),me=Object(g.useMemo)((function(){return B()(Oe,(function(e){return e.isFinished}))}),[Oe]),he=Object(h.a)(me,2),fe=he[0],ge=he[1],ke=Object(g.useMemo)((function(){return fe.filter((function(e){return e.isAutoVault?xe:e.userData&&new S.a(e.userData.stakedBalance).isGreaterThan(0)}))}),[fe,xe]),ye=Object(g.useMemo)((function(){return ge.filter((function(e){return e.isAutoVault?xe:e.userData&&new S.a(e.userData.stakedBalance).isGreaterThan(0)}))}),[ge,xe]),ve=ke.length>0;Object(X.e)(),function(){var e=Object(C.c)().account,t=Object(E.a)().fastRefresh,n=Object(M.b)();Object(g.useEffect)((function(){n(Object(R.c)())}),[n,t]),Object(g.useEffect)((function(){n(Object(R.d)({account:e}))}),[n,t,e]),Object(g.useEffect)((function(){n(Object(R.b)())}),[n])}(),function(){var e=Object(M.b)(),t=Object(E.a)().slowRefresh;Object(g.useEffect)((function(){var t=function(){var t=Object(z.a)(L.a.mark((function t(){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.a.getBlockNumber();case 2:n=t.sent,e(Object(R.e)(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),e(Object(R.f)())}),[e,t])}(),Object(g.useEffect)((function(){O||(new IntersectionObserver((function(e){Object(h.a)(e,1)[0].isIntersecting&&u((function(e){return e<=re.current?e+12:e}))}),{rootMargin:"0px",threshold:1}).observe(k.current),f(!0))}),[O]);var we,Se=e.pathname.includes("history");if(we=Se?o?ke:fe:o?ye:ge,$){var Ce=Object(Q.a)($.toLowerCase());we=we.filter((function(e){return Object(Q.a)(e.earningToken.symbol.toLowerCase()).includes(Ce)}))}we=function(e){switch(ae){case"apr":return H()(e,(function(e){return e.apr?Object(ne.c)(e,pe).apr:0}),"desc");case"earned":return H()(e,(function(e){return e.userData&&e.earningTokenPrice?e.isAutoVault?Object(ne.d)(n,le,be,de,e.earningTokenPrice).autoUsdToDisplay:e.userData.pendingReward.times(e.earningTokenPrice).toNumber():0}),"desc");case"totalStaked":return H()(e,(function(e){return e.isAutoVault?ue.toNumber():e.totalStaked.toNumber()}),"desc");default:return e}}(we).slice(0,d),re.current=we.length;var De=Object(ce.jsx)(rc,{children:we.map((function(e){return e.isAutoVault?Object(ce.jsx)(Dt,{pool:e,showStakedOnly:o},"auto-cake"):Object(ce.jsx)(rt,{pool:e,account:n},e.sousId)}))}),Te=Object(ce.jsx)(sc,{pools:we,account:n,userDataLoaded:s});return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{style:{height:24}}),Object(ce.jsx)(q.a,{children:Object(ce.jsxs)(D.H,{justifyContent:"space-between",flexDirection:["column",null,null,"row"],children:[Object(ce.jsxs)(D.H,{flex:"1",flexDirection:"column",mr:["8px",0],children:[Object(ce.jsx)(D.J,{as:"h1",scale:"xxl",color:"white",mb:"24px",children:t("Sphynx Pools")}),Object(ce.jsx)(D.J,{scale:"md",color:"text",children:t("Just stake some tokens to earn.")}),Object(ce.jsx)(D.J,{scale:"md",color:"text",children:t("High APR, low risk.")})]}),Object(ce.jsx)(D.H,{flex:"1",height:"fit-content",justifyContent:"center",alignItems:"center",mt:["24px",null,"0"],children:Object(ce.jsx)(gn,{})})]})}),Object(ce.jsxs)(K.a,{children:[Object(ce.jsxs)(ic,{children:[Object(ce.jsx)(On,{stakedOnly:o,setStakedOnly:l,hasStakeInFinishedPools:ve,viewMode:T,setViewMode:P}),Object(ce.jsxs)(oc,{children:[Object(ce.jsxs)(lc,{children:[Object(ce.jsx)(D.mb,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",children:t("Sort by")}),Object(ce.jsx)(bc,{children:Object(ce.jsx)(G.a,{options:[{label:t("Hot"),value:"hot"},{label:t("APR"),value:"apr"},{label:t("Earned"),value:"earned"},{label:t("Total staked"),value:"totalStaked"}],onChange:function(e){se(e.value)}})})]}),Object(ce.jsxs)(lc,{style:{marginLeft:16},children:[Object(ce.jsx)(D.mb,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",children:t("Search")}),Object(ce.jsx)(J.a,{onChange:function(e){Z(e.target.value)},placeholder:"Search Pools"})]})]})]}),Se&&Object(ce.jsx)(D.mb,{fontSize:"20px",color:"failure",pb:"32px",children:t("These pools are no longer distributing rewards. Please unstake your tokens.")}),n&&!s&&o&&Object(ce.jsx)(D.H,{justifyContent:"center",mb:"4px",children:Object(ce.jsx)(_.a,{})}),T===m.CARD?De:Te,Object(ce.jsx)("div",{ref:k})]})]})}}}]);
//# sourceMappingURL=18.39cdee86.chunk.js.map